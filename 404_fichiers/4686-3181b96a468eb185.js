"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4686],{1064:(e,t,a)=>{a.d(t,{cn:()=>i,GO:()=>o,Yq:()=>d,ep:()=>c,sL:()=>u,R:()=>f,wU:()=>m,yy:()=>p});var r=a(53575),n=a(7407),s=a(46095);function l(e){return"object"==typeof e?e:new Date("number"==typeof e?e:isNaN(+e)?e:+e)}function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}async function o(e,t){let a=await fetch(e,t);if(!a.ok){let e=await a.json();if(e.error){let t=Error(e.error);throw t.status=a.status,t}throw Error("An unexpected error occurred")}return a.json()}function d(e){return l(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}function u(e){return l(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function c(e){let t=e%100;return t>10&&t<14?e+"th":e+(["th","st","nd","rd"][e%10>3?0:e%10]||"th")}function m(e){let t=l(e);return 2592e6>=Math.abs(new Date().getTime()-t.getTime())}function p(e){return new Promise(t=>setTimeout(t,e))}(0,n.d_)("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",11);let f=e=>null!==e},2006:(e,t,a)=>{a.d(t,{E:()=>o});var r=a(27545),n=a(3906),s=a(33339),l=a(58811);let i=(0,s.F)("focus:border-alpha-400 focus-visible:border-alpha-400 disabled:border-alpha-300 border-alpha-400 hover:border-alpha-600 focus-visible:ring-offset-background pointer-events-none inline-flex shrink-0 cursor-pointer items-center justify-center gap-1.5 whitespace-nowrap rounded-full border font-medium outline-none ring-blue-600 transition-all focus-visible:ring-2 focus-visible:ring-offset-1 disabled:pointer-events-none disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-400 disabled:ring-0 has-[:focus-visible]:ring-2 [&>svg]:pointer-events-none",{variants:{variant:{default:"disabled:border-alpha-400 border-gray-900 bg-gray-900 text-white hover:border-gray-700 hover:bg-gray-700 focus:border-gray-700 focus:bg-gray-700 focus-visible:border-gray-700 focus-visible:bg-gray-700",secondary:"border-gray-200 bg-gray-200 text-gray-900 hover:border-gray-100 hover:bg-gray-100 focus:border-gray-100 focus:bg-gray-100 focus-visible:border-gray-100 focus-visible:bg-gray-100",teal:"border-teal-100 bg-teal-100 text-teal-700 hover:border-teal-100 hover:bg-teal-100 focus:border-teal-100 focus:bg-teal-100 focus-visible:border-teal-100 focus-visible:bg-teal-100",purple:"border-purple-100 bg-purple-100 text-purple-700 hover:border-purple-100 hover:bg-purple-100 focus:border-purple-100 focus:bg-purple-100 focus-visible:border-purple-100 focus-visible:bg-purple-100",darkTeal:"border-teal-700 bg-teal-700 text-white hover:bg-teal-700 focus:border-teal-700 focus:bg-teal-700 focus-visible:border-teal-700 focus-visible:bg-teal-700",outline:"",red:"border-red-100 bg-red-100 text-red-900 hover:border-red-700 hover:bg-red-700 focus:border-red-700 focus:bg-red-700 focus-visible:border-red-700 focus-visible:bg-red-700",amber:"border-amber-100 bg-amber-100 text-amber-900 hover:border-amber-700 hover:bg-amber-700 focus:border-amber-700 focus:bg-amber-700 focus-visible:border-amber-700 focus-visible:bg-amber-700",blue:"border-blue-100 bg-blue-100 text-blue-900 hover:border-blue-700 hover:bg-blue-700 focus:border-blue-700 focus:bg-blue-700 focus-visible:border-blue-700 focus-visible:bg-blue-700",green:"border-green-100 bg-green-100 text-green-900 hover:border-green-700 hover:bg-green-700 focus:border-green-700 focus:bg-green-700 focus-visible:border-green-700 focus-visible:bg-green-700"},size:{sm:"h-5 gap-1 px-[6px] text-[0.69rem] has-[>svg]:pl-1 [&>svg]:size-3",default:"h-6 px-3 text-xs has-[>svg]:pl-[10px] [&>svg]:size-3",lg:"h-8 px-3 text-sm has-[>svg]:pl-[10px] [&>svg]:size-4"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{asChild:t=!1,className:a,size:s,variant:o,...d}=e,u=t?l.DX:"div";return(0,r.jsx)(u,{className:(0,n.cn)(i({variant:o,size:s,className:a})),...d})}},6711:(e,t,a)=>{a.d(t,{Qg:()=>f,Sb:()=>h,US:()=>u,aD:()=>v,eC:()=>g,tE:()=>d,y8:()=>m});var r=a(27545),n=a(39149),s=a(58256),l=a(82164),i=a(33339),o=a(1064);let d=l.Kq,u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(l.LM,{className:(0,o.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col lg:max-w-[420px]",a),ref:t,...n})});u.displayName=l.LM.displayName;let c=(0,i.F)("group pointer-events-auto relative flex max-w-[420px] flex-col gap-3 overflow-hidden rounded-xl p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background",destructive:"destructive group border-[#DA3036] bg-[#DA3036] text-white",warning:"warning group border-warning bg-warning text-warning-foreground"}},defaultVariants:{variant:"default"}}),m=n.forwardRef((e,t)=>{let{className:a,variant:n,...s}=e;return(0,r.jsx)(l.bL,{className:(0,o.cn)(c({variant:n}),a),ref:t,...s})});m.displayName=l.bL.displayName;let p=(0,i.F)("inline-flex h-8 shrink-0 items-center justify-center rounded-md px-3 text-sm font-medium transition-colors focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-transparent hover:bg-secondary group-[.destructive]:hover:bg-destructive"}},defaultVariants:{variant:"default"}}),f=n.forwardRef((e,t)=>{let{className:a,variant:n,...s}=e;return(0,r.jsx)(l.rc,{className:(0,o.cn)(p({variant:n}),a),ref:t,...s})});f.displayName=l.rc.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(l.bm,{className:(0,o.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),ref:t,"toast-close":"",...n,children:(0,r.jsx)(s.MKb,{className:"h-4 w-4"})})});g.displayName=l.bm.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(l.hE,{className:(0,o.cn)("text-sm font-semibold [&+div]:text-xs",a),ref:t,...n})});h.displayName=l.hE.displayName;let v=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(l.VY,{className:(0,o.cn)("text-sm opacity-90",a),ref:t,...n})});v.displayName=l.VY.displayName},7407:(e,t,a)=>{a.d(t,{d_:()=>l});let r=window.crypto,n=e=>r.getRandomValues(new Uint8Array(e)),s=(e,t,a)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*r*t/e.length);return s=>{let l=s||t,i="";for(;;){let t=a(n),s=n;for(;s--;)if((i+=e[t[s]&r]||"").length===+l)return i}}},l=(e,t)=>s(e,t,n)},10327:(e,t,a)=>{a.d(t,{K:()=>m,m:()=>p});var r=a(27545),n=a(56670),s=a.n(n),l=a(51490),i=a(33339),o=a(1064);let d={rate_limited:"Too many requests, try again in 1 minute.",payment_method_required:"Payment method required. Add a payment method and try again.",plan_not_self_serve:"Contact sales to upgrade to this plan.",has_subscription:"You already have a subscription.",user_plans:"You are unable to upgrade your plan at this time.",no_subscription:"You do not have a subscription to cancel.",no_active_subscription:"You do not have an active subscription to change.",already_on_plan:"You are already subscribed to this plan.",plan_not_available:"This plan is not available at this time.",no_scheduled_plan_change:"You do not have any scheduled plan changes to cancel.",no_on_demand_credits:"Your plan does not include on-demand credit purchases. Upgrade your plan and try again.",duplicate_idempotency_key:"Your previous subscription modification is processing. Please try again in a minute."},u=(0,i.F)("",{variants:{variant:{default:"text-sm font-medium text-destructive",unstyled:""}},defaultVariants:{variant:"default"}}),c=(0,i.F)("h-auto p-0 underline",{variants:{variant:{default:"text-destructive",unstyled:"text-inherit"}},defaultVariants:{variant:"default"}});function m(e){let{code:t,variant:a,className:n}=e,i=t?d[t]:void 0;return(0,r.jsx)("div",{className:(0,o.cn)(u({variant:a,className:n})),children:i||(0,r.jsxs)(r.Fragment,{children:["We've encountered an unexpected issue. Should this continue, kindly reach out to our"," ",(0,r.jsx)(l.$n,{asChild:!0,className:(0,o.cn)(c({variant:a})),variant:"link",children:(0,r.jsx)(s(),{href:"https://vercel.com/help",target:"_blank",children:"support"})})," ","team."]})})}function p(e){if("object"==typeof e&&null!==e){if("code"in e&&"string"==typeof e.code)return e.code;if("message"in e&&"string"==typeof e.message)return e.message}if("string"==typeof e)return e}},10928:(e,t,a)=>{a.d(t,{iF:()=>p,Yx:()=>m,k6:()=>c});var r=a(41664),n=a(75838),s=a(39149),l=a(34995),i=a(18214),o=a(80922),d=a(79603);function u(e){let{membership:t}=e;return!!t&&!!(t.entitlements&&t.entitlements.find(e=>"v0"===e.entitlement))}let c=()=>{let e=(0,d.useRouter)(),{user:t,setUser:a,expectUser:c}=(0,n.J)(),{scopes:f,isScopesReady:g,refreshScopes:h}=(0,l.b)(),v=!!(g&&(!c||t)),{data:b,mutate:x,isLoading:y}=(0,r.Ay)(v?"activeScope":null,async()=>{var r,n,s;let l=null!==(r=null==f?void 0:f.find(o.W))&&void 0!==r?r:null,i=new URLSearchParams(window.location.search).get("scope");if(i){e.replace(window.location.pathname);let t=null==f?void 0:f.find(e=>(0,o.W)(e)?e.username===i:e.slug===i&&u({membership:e.membership}));if(t){let e=p(t),{user:r}=await m(e);return a(r),t}}let d=null==t?void 0:t.scope;if(!d){if(null==t?void 0:t.limited){let e=null!==(n=null==f?void 0:f.find(e=>!(0,o.W)(e)&&!e.limited&&u({membership:e.membership})))&&void 0!==n?n:null;if(e){let t=p(e),{user:r}=await m(t);a(r)}return e}return l}let[c,g]=d.split(":");if("team"===c){let e=null!==(s=null==f?void 0:f.find(e=>"slug"in e&&e.slug===g&&u({membership:e.membership})))&&void 0!==s?s:null;if((null==e?void 0:e.limited)&&!(0,o.W)(e)){let{user:e}=await m(g);a(e)}return e}return l},{revalidateIfStale:!1}),w=(0,s.useCallback)(async t=>{let r="slug"in t?t.slug:void 0,n=p(t),{user:s}=await m(n);a(s),r?(0,i.QC)("scope",r):(0,i.yM)("scope"),e.refresh(),x(t,{optimisticData:t,revalidate:!1})},[x,e,a]),j=(0,s.useMemo)(()=>g&&t&&!y&&null!=b?b:null,[g,t,b,y]),N=(0,s.useMemo)(()=>{var e;return null!==(e=function(e){return e?(0,o.W)(e)?e.username:e.slug:null}(j))&&void 0!==e?e:void 0},[j]),k=(0,s.useMemo)(()=>"team"===function(e){return e?(0,o.W)(e)?"user":"team":null}(j),[j]);return{activeScope:j,activeScopeSlug:N,isActiveScopeReady:v&&void 0!==b,isTeam:k,setActiveScope:w,scopes:f,user:t,refreshScopes:h}};async function m(e){let t=await fetch("/chat/api/team/change-scope?scope=".concat(encodeURIComponent(e)),{method:"POST"});if(403===t.status){let e=await t.json();window.location.href=e.redirect}if(!t.ok)throw Error("Failed to update team slug cookie");let a=await t.json();if(!a.success)throw Error("Failed to update team slug cookie");return{user:a.user}}function p(e){return(0,o.W)(e)?"user:".concat(e.username):"team:".concat(e.slug)}},14529:(e,t,a)=>{a.d(t,{dj:()=>m,oR:()=>c});var r=a(39149);let n=0,s=new Map,l=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function u(e){d=i(d,e),o.forEach(e=>{e(d)})}function c(e){let{...t}=e,a=(n=(n+1)%Number.MAX_VALUE).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},18214:(e,t,a)=>{a.d(t,{QC:()=>i,cy:()=>s,yM:()=>o});var r=a(39149);let n=[[/\/chat\/([a-zA-Z0-9-_]+)/,["id"]]];function s(){let e=window.location.pathname,t={};for(let[a,r]of n){let n=e.match(a);if(n){for(let e=0;e<r.length;e++)t[r[e]]=n[e+1];break}}return t}let l=(0,r.cache)(()=>({}));function i(e,t){l()[e]=t}function o(e){delete l()[e]}},18840:(e,t,a)=>{function r(e){return!!e&&"limited"in e&&!0===e.limited}function n(e){let{slug:t,push:a}=e;a(s({slug:t}).toString())}function s(e){let{slug:t,path:a}=e;a||(a="/?scope=".concat(t));let r=new URL(a,"https://".concat("v0.dev").replaceAll("v0chat-","v0-")).toString(),n=new URLSearchParams;n.append("next",r);let s="/api/v0/redirect-to-v0?".concat(n.toString()),l=new URL("https://vercel.com/login/scope/".concat(t));return l.searchParams.append("missingScope","1"),l.searchParams.append("next",s),l.toString()}function l(e){let{chatId:t,projectId:a,scopeSlug:r,lastUserInput:n}=e,s=(e,t)=>{let a=new URLSearchParams;for(let[e,r]of Object.entries(t))r&&a.set(e,r);return 0===a.size?e:"".concat(e,"?").concat(a.toString())};return t?s("/chat/".concat(t),{scope:r}):a?s("/project/".concat(a),{scope:r}):n?s("/chat",{q:n,scope:r,pid:a}):void 0}a.d(t,{kb:()=>l,ol:()=>s,qm:()=>n,sJ:()=>r})},20137:(e,t,a)=>{a.r(t),a.d(t,{Label:()=>d});var r=a(27545),n=a(39149),s=a(72641),l=a(33339),i=a(3906);let o=(0,l.F)("text-sm leading-none text-gray-500 peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.b,{className:(0,i.cn)(o(),a),ref:t,...n})});d.displayName=s.b.displayName},21276:(e,t,a)=>{a.d(t,{FD:()=>g,H7:()=>b,Jf:()=>E,Jk:()=>f,Ki:()=>F,L_:()=>L,MM:()=>T,NL:()=>i,Nr:()=>M,Og:()=>v,PO:()=>k,Qx:()=>C,R2:()=>S,RK:()=>h,TK:()=>d,Wg:()=>I,XR:()=>z,Xu:()=>l,YK:()=>_,Z3:()=>u,_Z:()=>P,cL:()=>N,dD:()=>r,gz:()=>p,hB:()=>s,iY:()=>D,jd:()=>U,kR:()=>m,kU:()=>o,mB:()=>x,oO:()=>O,oW:()=>R,p2:()=>c,rU:()=>y,tK:()=>w,ti:()=>A,zZ:()=>n,zi:()=>j});let r="1",n="2",s="3",l="4",i="6",o="7",d="8",u="9",c="10",m="11",p="12",f="13",g="14",h="15",v="16",b="17",x="18",y="19",w="20",j="21",N="22",k="23",S="24",R="25",P="26",M="27",C="29",A="30",_="32",U="33",E="34",D="35",L="36",z="37",T="45",F="47",I="48",O="49"},23481:(e,t,a)=>{a.d(t,{$5:()=>s,g7:()=>o,m9:()=>i});let r=new Intl.NumberFormat("en-US",{style:"currency",currency:"usd"}),n=new Intl.NumberFormat("en-US",{style:"currency",currency:"usd",maximumFractionDigits:0}),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";switch(t){case"default":return r.format(e/100);case"display":return n.format(e/100)}};function l(e){return s(e.reduce((e,t)=>e+t.price.cents,0),"display")}function i(e){return l(e.items)}function o(e){return l(e.items)}},23897:(e,t,a)=>{a.d(t,{Tabs:()=>p,TabsList:()=>f,TabsTrigger:()=>g,a:()=>h});var r=a(27545),n=a(39149),s=a(18911),l=a(2731),i=a(3906),o=a(79603),d=a(40717);let u={stiffness:300,damping:30,type:"spring",duration:.3},c=n.createContext(null);function m(){let e=n.useContext(c);if(!e)throw Error("useTabs must be used within a TabsProvider");return e}let p=n.forwardRef((e,t)=>{let{children:a,defaultValue:l,value:i,mode:d,onValueChange:u,variant:m="pills",...p}=e,f=n.useId(),[g,h]=n.useState(null!=i?i:l),v=(0,o.usePathname)();n.useEffect(()=>{"link"===d?h(v):void 0!==i&&h(i)},[i,v,d]);let b=n.useMemo(()=>({activeTab:g,setActiveTab:h,layoutId:f,variant:m,mode:d}),[g,f,m,d]);return(0,r.jsx)(c.Provider,{value:b,children:(0,r.jsx)(s.bL,{defaultValue:l,onValueChange:e=>{"link"!==d&&(h(e),null==u||u(e))},value:i,...p,ref:t,children:a})})});p.displayName=s.bL.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...n}=e,{variant:l}=m();return(0,r.jsx)(s.B8,{className:(0,i.cn)("bg-background flex h-8 gap-0.5","pills"===l&&"items-center rounded-lg border px-[0.2rem] py-1","underline"===l&&"items-end border-b ","secondary"===l&&"items-center",a),ref:t,...n})});f.displayName=s.B8.displayName;let g=n.forwardRef((e,t)=>{let{className:a,children:n,...c}=e;(0,o.useRouter)();let{activeTab:p,layoutId:f,variant:g,mode:h}=m(),v=p===c.value,b=(0,r.jsxs)(s.l9,{className:(0,i.cn)("ring-offset-background relative inline-flex justify-center gap-1.5 whitespace-nowrap rounded-md bg-transparent px-2 text-sm font-medium text-gray-500 ring-blue-600 transition-all hover:text-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 has-[>svg]:pl-1.5 data-[state=active]:text-gray-900 [&>svg]:pointer-events-none","underline"===g?"h-8":"h-6 items-center","secondary"===g&&"h-[28px]","secondary"===g&&v&&"text-foreground",a),ref:t,tabIndex:"link"===h?-1:void 0,...c,children:[v?"underline"===g?(0,r.jsx)(l.P.div,{className:"absolute inset-x-2 -bottom-px h-[2px] bg-gray-900",layoutId:"".concat(f,"-underline"),transition:u}):"secondary"===g?(0,r.jsx)(l.P.div,{className:"absolute inset-0 rounded-md bg-gray-200",layoutId:"".concat(f,"-hover"),transition:u}):(0,r.jsx)(l.P.div,{className:"absolute inset-0 rounded-md bg-gray-100",layoutId:"".concat(f,"-hover"),transition:u}):null,(0,r.jsx)("div",{className:"relative z-10 flex items-center gap-1.5",children:n})]});return"link"===h?(0,r.jsx)(d.PrefetchLinkAndRefreshOnHover,{href:c.value,children:b}):b});g.displayName=s.l9.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.UC,{className:(0,i.cn)("ring-offset-background focus-visible:ring-ring focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",a),ref:t,...n})});h.displayName=s.UC.displayName},25904:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(27545),n=a(87988),s=a(39149);let l=e=>{let[t,a]=s.useState(0),l=s.useRef(null);return s.useEffect(()=>{l.current=document.body,a(e=>e+1)},[]),(0,r.jsx)(n.b,{container:l.current,...e})};l.displayName=n.b.displayName},27661:(e,t,a)=>{a.d(t,{i:()=>n});var r=a(6145);let n=(0,r.createServerReference)("402ffa81cab663e4a527831a5d607a75a987235783",r.callServer,void 0,r.findSourceMapURL,"createPaymentMethodAction")},34995:(e,t,a)=>{a.d(t,{b:()=>l});var r=a(41664),n=a(75838),s=a(39149);function l(){let{expectUser:e}=(0,n.J)(),{data:t,mutate:a}=(0,r.Ay)("scopes",async()=>{if(!e)return;let t=await fetch("/chat/api/scopes");return await t.json()},{dedupingInterval:6e4});return{scopes:t,isScopesReady:!!t,refreshScopes:(0,s.useCallback)(()=>{a(void 0,!0)},[a])}}},36990:(e,t,a)=>{a.d(t,{z:()=>d});var r=a(64695),n=a(9300),s=a(94897),l=a(21276),i=a(70244),o=a(18840);function d(e,t,a,d){if(e instanceof Error)switch(e.message){case l.Xu:return i.oR.error("Please accept v0 terms and try again."),(0,r.F)(!0),!0;case l.NL:return i.oR.error("You are blocked from sending messages."),null==t||t.push("/"),!0;case l.gz:return!0;case l.Z3:case l.Wg:return(0,s.L)(!0),!0;case l.FD:return i.oR.error("Message cannot be empty."),!0;case l.jd:return i.oR.error("You do not have access to this project."),!0;case l.mB:return!0;case l.Jk:return i.oR.error("Invalid attachment type."),!0;case l.TK:return i.oR.error("Unable to process request. Please edit your message and try again."),!0;case l.kR:return i.oR.error("An error occurred while processing your message. Start a new chat, retry, or edit your message."),!0;case l._Z:return i.oR.error("You've reached the maximum number of image attachments allowed for a single chat."),!0;case l.RK:case l.PO:case l.oW:case l.Og:return i.oR.error("Invalid message ID. Start a new chat or edit and retry your last message."),!0;case l.H7:return i.oR.error("No active plan. Ensure you have accepted v0 terms and have an active subscription to continue."),null==t||t.push("/subscription?from=chat"),!0;case l.p2:return i.oR.error("The resource you are looking for could not be found."),!0;case l.kU:return i.oR.error("Too many requests. Please try again later."),!0;case l.zZ:return(0,n.Dt)({prompt:!1,customMessage:"Please sign in to continue."}),!0;case l.hB:return i.oR.error("You are not authorized to perform this action."),!0;case l.Nr:return i.oR.error("You are uploading too many files. Please try again later."),!0;case l.Nr:return i.oR.error("Missing file name."),!0;case l.Jf:return i.oR.error("You have reached the daily limit for assigning custom subdomains."),!0;case l.tK:case l.zi:case l.cL:case l.R2:i.oR.error("Invalid fork key. Please start a new chat.");case l.rU:return!0;case l.Qx:return i.oR.error("Unexpected error. Please try again later."),!0;case l.ti:return i.oR.error("Failed to start your v0 plan. Please try again later."),!0;case l.L_:return i.oR.error("This subdomain is already assigned to this block."),!0;case l.iY:return i.oR.error("Your non-image attachment(s) exceed the limits for this chat. Please try again with fewer or smaller attachments."),!0;case l.XR:return i.oR.warning("Payment is processing. Please try again later."),!0;case l.MM:return(0,n.Dt)({prompt:!1,customMessage:"You're out of free messages. Sign in or sign up to continue."}),!0;case l.Ki:if(t&&(null==d?void 0:d.scopeSlug)){let e=(0,o.kb)(d);t.push((0,o.ol)({slug:d.scopeSlug,path:e}))}else i.oR.error("Please re-authentiate for full access."),null==t||t.refresh();return!0;case l.dD:default:return i.oR.error(a||"An unexpected error occurred."),!0}return!1}},37120:(e,t,a)=>{a.d(t,{IconSpinner:()=>l,nk:()=>s});var r=a(27545);a(39149);var n=a(1064);function s(e){let{className:t,...a}=e;return(0,r.jsxs)("svg",{className:(0,n.cn)("h-4 w-4",t),fill:"none",height:16,xmlns:"http://www.w3.org/2000/svg",...a,children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_868_65174)",children:[(0,r.jsx)("circle",{cx:"8",cy:"8",fill:"#171717",r:"7.25",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M8 4.5L11.5 10.625H4.5L8 4.5Z",fill:"white",fillRule:"evenodd"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_868_65174",children:(0,r.jsx)("rect",{fill:"white",height:"16",width:"16"})})})]})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("svg",{className:(0,n.cn)("h-4 w-4 animate-spin",t),fill:"currentColor",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",...a,children:(0,r.jsx)("path",{d:"M232 128a104 104 0 0 1-208 0c0-41 23.81-78.36 60.66-95.27a8 8 0 0 1 6.68 14.54C60.15 61.59 40 93.27 40 128a88 88 0 0 0 176 0c0-34.73-20.15-66.41-51.34-80.73a8 8 0 0 1 6.68-14.54C208.19 49.64 232 87 232 128Z"})})}},40717:(e,t,a)=>{a.d(t,{PrefetchLinkAndRefreshOnHover:()=>o});var r=a(27545),n=a(51750),s=a(56670),l=a.n(s),i=a(79603);function o(e){let{href:t,...a}=e,s=(0,i.useRouter)();return(0,r.jsx)(l(),{...a,href:t,onMouseEnter:()=>{s.prefetch(t,{kind:n.PrefetchKind.FULL})},onTouchStart:()=>{s.prefetch(t,{kind:n.PrefetchKind.FULL})},prefetch:!0})}a(39149)},44041:(e,t,a)=>{a.d(t,{Z:()=>o,N:()=>i});var r=a(41664),n=a(1064);let s=e=>fetch(e).then(e=>e.json()),l=()=>{let{data:e,isLoading:t}=(0,r.Ay)("/api/auth/info",s);return{user:null==e?void 0:e.user,isLoggedIn:t?void 0:!!(null==e?void 0:e.user),agreementStatus:t?void 0:null==e?void 0:e.agreementStatus}};function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{isLoggedIn:s}=l(),{data:i,isLoading:o,mutate:d}=(0,r.Ay)(()=>{let r;if((null==t?void 0:t.startsWith("team_"))&&(r=t),e&&s){let e="/api/plan"+(r?"?teamId=".concat(r):"");return a&&(e+="&paymentMethod=true"),e}return null},n.GO,{revalidateOnFocus:!1});return{planInfo:i,planSlug:null==i?void 0:i.currentPlanSlug,isLoading:o,update:d}}function o(e){return"subscription"in e.current}},45458:(e,t,a)=>{a.d(t,{PaymentDialog:()=>O,C:()=>I});var r=a(27545),n=a(39149),s=a(59276),l=a(41664),i=a(46968),o=a(6145);let d=(0,o.createServerReference)("4076505e024c65f951dba99e56e1b5e513ca8bbd19",o.callServer,void 0,o.findSourceMapURL,"changePlanAction");var u=a(25904),c=a(23481),m=a(1064),p=a(6711),f=a(27661),g=a(55387),h=a(73080),v=a(30247),b=a(33397),x=a(56670),y=a.n(x),w=a(14529),j=a(89033),N=a(53515);function k(e,t){switch(t.type){case"submit":return{...e,status:"submitting"};case"added":return{...e,status:"new-card"};case"go-to-add-new":return{...e,status:"add-new"};case"go-to-use-existing":if(e.paymentMethod)return{...e,status:"use-existing",paymentMethod:e.paymentMethod};return e}}let S=[[302,383],[522,304],[1/0,227]];function R(e){let{paymentMethod:t,onAddNewCard:a}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"text-sm",children:"Use your Vercel account's default payment method or add a new one."}),(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-blue-700 bg-white p-4",children:[(0,r.jsxs)("span",{className:"flex items-center gap-4 text-sm",children:[(0,r.jsx)(j.d,{brand:t.brand}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-xs",children:"••••"}),(0,r.jsx)("span",{children:t.last4})]})]}),(0,r.jsx)(v.A,{className:"h-4 w-4 rounded-full bg-blue-700 p-0.5 text-white",size:16})]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 text-sm text-blue-700",onClick:a,type:"button",children:[(0,r.jsx)(b.A,{size:16}),(0,r.jsx)("span",{children:"Use a different payment method"})]})]})}var P=a(86141),M=a(97797),C=a(10289),A=a(68617);function _(e){let{disabled:t,onPaymentSelected:a,paymentMethod:s,onBack:l,description:o,willCharge:d,onPaymentMethodAdded:c}=e,m=function(e){var t,a;let{paymentMethod:s}=e,[l,o]=(0,n.useReducer)(k,s?{status:"use-existing",paymentMethod:s}:{status:"add-new"}),{windowSize:d}=(0,N.lW)(),c=null!==(a=null===(t=S.find(e=>{var t;return(null!==(t=d.width)&&void 0!==t?t:1e3)<e[0]}))||void 0===t?void 0:t[1])&&void 0!==a?a:230,m=(0,h.useStripe)(),v=(0,h.useElements)(),{toast:b}=(0,w.dj)(),[x,j]=(0,n.useState)(!1),P=(0,i.c)({action:f.i}),M=(0,i.c)({action:g.h}),C="add-new"===l.status,A=(0,n.useCallback)(async e=>{if(!C||!m||!v)return null;try{o({type:"submit"});let t=await v.submit();if(t.error)throw t.error;let{client_secret:a}=await P.submit(e?{teamSlug:e}:void 0),r=await m.confirmSetup({elements:v,clientSecret:a,redirect:"if_required",confirmParams:{return_url:window.location.href}});if(r.error)throw r.error;if(r.setupIntent.payment_method){let t="string"==typeof r.setupIntent.payment_method?r.setupIntent.payment_method:r.setupIntent.payment_method.id,a=await M.submit({paymentMethod:t,...e?{teamSlug:e}:void 0});return o({type:"added"}),a.paymentMethod}}catch(e){var t;null===(t=v.getElement("card"))||void 0===t||t.focus(),o({type:"go-to-add-new"}),function(e,t){let{code:a,message:n}=Object(t),s=!a;throw e({description:s?"An unknown error occurred. Please contact support.":n,action:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Qg,{altText:"Dismiss",variant:s?"secondary":"default",children:"Dismiss"}),s?(0,r.jsx)(p.Qg,{altText:"Contact Support",asChild:!0,children:(0,r.jsx)(y(),{href:"https://vercel.com/help",target:"_blank",children:"Contact Support"})}):null]}),duration:1/0,variant:"destructive"}),t}(b,e)}return null},[P,v,C,m,b,M]);return(0,n.useMemo)(()=>{switch(l.status){case"use-existing":return{status:"use-existing",form:(0,r.jsx)(R,{onAddNewCard:()=>o({type:"go-to-add-new"}),paymentMethod:l.paymentMethod})};case"add-new":case"submitting":case"new-card":return{status:l.status,form:(0,r.jsxs)("div",{style:{...x?{minHeight:"".concat(c,"px")}:{height:"".concat(c,"px")}},children:[(0,r.jsx)(h.PaymentElement,{onReady:()=>j(!0),options:{terms:{card:"never"},wallets:{googlePay:"never",applePay:"never"}}}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)("form",{...P.props}),(0,r.jsx)("form",{...M.props})]})]}),submit:A,useExisting:l.paymentMethod?()=>o({type:"go-to-use-existing"}):void 0}}},[l.status,l.paymentMethod,x,c,P.props,M.props,A])}({paymentMethod:s}),v=(0,n.useRef)(null),b=t||"submitting"===m.status,x="Add Card"+(d?" and Pay":"");"use-existing"===m.status&&(x="Confirm"+(d?" and Pay":""));let j=async()=>{try{if("add-new"===m.status){let e=await m.submit();e&&(null==c||c(e))}null==a||a()}catch(e){}};return(0,A.ML)("keydown",e=>{"Escape"===e.key&&l(),"Enter"===e.key&&j()},v),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid h-fit px-4",ref:v,children:[m.form,(0,r.jsx)("div",{className:"bottom-0 mb-2 mt-4 text-sm text-gray-500",children:null!=o?o:(0,r.jsxs)(r.Fragment,{children:['By clicking on "',x,'" you will link the new payment method to your Vercel account']})})]}),(0,r.jsxs)(P.Es,{className:"flex flex-col-reverse gap-2 px-4 py-0 md:flex-row md:justify-between",children:[(0,r.jsx)(M.$,{className:"w-full md:w-auto",disabled:b,onClick:()=>{"add-new"===m.status&&m.useExisting?m.useExisting():l()},size:"sm",variant:"secondary",children:"Cancel"}),(0,r.jsxs)(M.$,{disabled:b,onClick:j,size:"sm",children:[b?(0,r.jsx)(C.y,{size:14}):null,x]})]})]})}var U=a(70244),E=a(10327),D=a(79603);function L(e,t){switch(t.type){case"set-payment-method":if(!e)return e;return{...e,paymentMethod:t.paymentMethod};case"set-billing-details":return t.billingDetails}}var z=a(88704),T=a(44041),F=a(10928);function I(){let{data:e,mutate:t}=(0,l.Ay)("paymentDialogOpen",null,{fallbackData:!1});return{paymentDialogOpen:e,setPaymentDialogOpen:t}}function O(e){let{billingPromise:t,onBack:a}=e,l=(0,D.useRouter)(),{isActiveScopeReady:o,isTeam:p,user:f}=(0,F.k6)(),{update:g}=(0,T.N)(o&&!p,null==f?void 0:f.id),h=(0,i.c)({action:d,additionalFields:{source:"chat"}}),{paymentDialogOpen:v,setPaymentDialogOpen:b}=I(),x=(0,n.use)(t),{billingDetails:y,optimisticSetBillingDetails:w,optimisticSetPaymentMethod:j}=function(e){let[t,a]=(0,n.useOptimistic)(e,L);return{billingDetails:t,optimisticSetPaymentMethod:e=>{(0,n.startTransition)(()=>{a({type:"set-payment-method",paymentMethod:e})})},optimisticSetBillingDetails:e=>{(0,n.startTransition)(()=>{a({type:"set-billing-details",billingDetails:e})})}}}(x[0].ok?x[0].value:null),N=(0,n.useMemo)(()=>x[1].ok?x[1].value:[],[x]),k=(0,n.useMemo)(()=>N.find(e=>"v0-level3"===e.slug),[N]),S=(0,n.useMemo)(()=>N.find(e=>"v0-platinum"===e.slug),[N]);(0,n.useEffect)(()=>()=>void b(!1),[b]);let R=(null==f?void 0:f.v0plan)==="v0-level3"?S:k,P=(0,n.useCallback)(async()=>{if(R)try{let e=await h.submit({planSlug:R.slug,entitlement:"messages",entitlementFromCurrentSession:"yes"});w(e),g(),U.oR.success("Upgraded plan successfully.")}catch(t){let e=(0,E.m)(t);"no_active_subscription"===e||"already_on_plan"===e?l.refresh():U.oR.error((0,r.jsx)(E.K,{code:e,variant:"unstyled"}),{duration:5e3})}finally{b(!1)}},[h,g,w,l,b,R]),M=(0,n.useMemo)(()=>k?(0,r.jsx)(_,{description:(0,r.jsxs)(r.Fragment,{children:["By clicking on Confirm you'll start your"," ",null==R?void 0:R.name," plan subscription of"," ",(0,r.jsxs)("span",{className:"font-medium text-black",children:[(0,c.m9)(k),"/month,"]})," ","with a renewal date of the"," ",(0,r.jsxs)("span",{className:"font-medium text-black",children:[(0,m.ep)(new Date().getDate())," of each month"]}),"."]}),disabled:"submitting"===h.status,onBack:()=>{null==a||a(),b(!1)},onPaymentMethodAdded:j,onPaymentSelected:P,paymentMethod:null==y?void 0:y.paymentMethod,willCharge:!0}):null,[null==y?void 0:y.paymentMethod,h.status,a,P,j,k,b,null==R?void 0:R.name]);return y?(0,r.jsxs)(s.StripeProvider,{mode:y.settings.mode,children:[(0,r.jsx)(z.Modal,{onOpenChange:b,open:v,children:(0,r.jsxs)(z.ModalContent,{className:"flex flex-col gap-6 md:px-2",children:[(0,r.jsxs)(z.ModalTitle,{className:"px-3",children:["Subscribing to"," ",(null==R?void 0:R.slug)==="v0-platinum"?(0,r.jsx)("span",{children:"Ultra"}):(0,r.jsx)("span",{children:"Premium"}),(0,r.jsx)("span",{children:" plan"})]}),M]})}),(0,r.jsx)(u.Z,{children:(0,r.jsx)("form",{...h.props})})]}):null}},46968:(e,t,a)=>{a.d(t,{c:()=>n});var r=a(39149);function n(e){let{action:t,additionalFields:a={}}=e,n=(0,r.useId)(),s=(0,r.useRef)(new FormData),l=(0,r.useRef)(null),[i,o]=(0,r.useState)("idle"),[d,u]=(0,r.useState)(null);return{status:i,error:d,submit:e=>{if(l.current)throw Error("Cannot submit form while another action is pending");o("submitting"),u(null);let t=document.getElementById(n);if(!t)throw Error("No form found for useImperativeHandle with id ".concat(n));let r=new FormData;if(e)for(let[t,a]of Object.entries(e))r.append(t,a);for(let[e,t]of Object.entries(a))r.append(e,t);return s.current=r,new Promise((e,a)=>{l.current={resolve:e,reject:a},t.requestSubmit()})},props:{id:n,action:async()=>{var e,a,r;try{let r=await t(s.current);r.ok?null===(e=l.current)||void 0===e||e.resolve(r.value):(u(r.error.message),null===(a=l.current)||void 0===a||a.reject(r.error))}catch(e){u(e instanceof Error?e.message:"Unknown error"),null===(r=l.current)||void 0===r||r.reject()}finally{l.current=null,o("idle")}},onSubmit:e=>e.stopPropagation()}}}},47224:(e,t,a)=>{a.d(t,{U3:()=>o,dS:()=>d,fu:()=>i});var r=a(27545),n=a(24595),s=a(3906),l=a(2006);function i(){let e=(0,n.k)("billingPlans");return{"v0-level0":{color:"text-gray-500",badge:"secondary",label:e("planName","Free")},"v0-level3":{color:"text-teal-700",badge:"teal",label:e("planName","Premium")},"v0-team":{color:"text-blue-700",badge:"blue",label:e("planName","Team")},"v0-enterprise":{color:"text-purple-700",badge:"purple",label:e("planName","Enterprise")},"v0-platinum":{color:"text-orange-400",badge:"teal",label:e("planName","Ultra")}}}function o(e){let{type:t}=e,a=i()[t];return(0,r.jsx)("span",{className:(0,s.cn)("text-[13px] font-medium leading-[16px]",a.color),children:a.label})}function d(e){let{type:t}=e,a=i()[t];return(0,r.jsxs)(l.E,{size:"sm",variant:a.badge,children:[a.label," Plan"]})}},48891:(e,t,a)=>{a.d(t,{d:()=>c,f:()=>m});var r=a(87240),n=a(41664),s=a(65618),l=a(39149),i=a(44041),o=a(10928),d=a(63564);let u=(e,t)=>fetch("".concat(e,"?scope=").concat(t)).then(e=>e.json());function c(){var e;let{activeScopeSlug:t}=(0,o.k6)(),a=(0,d.C)(),r=null!==(e=null!=t?t:a)&&void 0!==e?e:void 0,{data:s,mutate:i}=(0,n.Ay)(r?["/chat/api/rate-limit",r]:null,()=>{if(r)return u("/chat/api/rate-limit",r)});return[s,(0,l.useCallback)(()=>i(e=>{if(void 0!==e)return{...e,remaining:Math.max(e.remaining-1,0)}},{revalidate:!1}),[i])]}function m(){let[e]=c(),{isTeam:t,user:a,isActiveScopeReady:d}=(0,o.k6)(),{planSlug:u}=(0,i.N)(d&&!t,null==a?void 0:a.id,!1),m="v0-level0"===u,{data:p,mutate:f}=(0,n.Ay)("show-upgrade-banner-limit",{fallbackData:!1}),{data:g,mutate:h}=(0,n.Ay)("show-upgrade-banner-general",{fallbackData:!1});(0,l.useLayoutEffect)(()=>{if(t||!u){f(!1),h(!1);return}let a=r.A.get(s.Dt),n=e&&0===e.remaining,l=r.A.get(s.Uo),i=!(!n&&"1"===a)&&e&&e.remaining<s.UE,o=e&&e.limit-e.remaining>=1,d=m&&"1"!==l&&o;f(i),h(d)},[e,h,f,m,t,u,a]);let v=(0,l.useCallback)(()=>{f(!1),r.A.set(s.Dt,"1",{expires:1})},[f]),b=(0,l.useCallback)(()=>{h(!1),r.A.set(s.Uo,"1",{expires:5})},[h]);return{showBannerLimit:p,showBannerGeneral:g,remaining:null==e?void 0:e.remaining,dismissBannerLimit:v,dismissBannerGeneral:b,userOnFree:m}}},50403:(e,t,a)=>{a.d(t,{p:()=>i});var r=a(27545),n=a(39149),s=a(3906);let l=(0,a(33339).F)("focus-visible:border-alpha-600 disabled:border-alpha-300 bg-background inline-flex w-full shrink-0 rounded-lg border px-3 py-1 text-sm outline-none transition-all file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 disabled:pointer-events-none disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-400 disabled:ring-0",{variants:{size:{xs:"h-6",sm:"h-8",md:"h-10",lg:"h-12"}},defaultVariants:{size:"md"}}),i=n.forwardRef((e,t)=>{let{className:a,size:n,...i}=e;return i.suffix?(0,r.jsxs)("div",{className:"focus-within:border-alpha-600 flex w-full items-center justify-between rounded-lg border text-sm",children:[(0,r.jsx)("input",{className:(0,s.cn)(l({size:n,className:a}),"focus-visible:none flex-1 rounded-none rounded-l-lg border-none"),ref:t,...i}),i.suffix]}):(0,r.jsx)("input",{className:(0,s.cn)(l({size:n,className:a})),ref:t,...i})});i.displayName="Input"},51490:(e,t,a)=>{a.d(t,{$n:()=>d,ru:()=>o});var r=a(27545),n=a(39149),s=a(58811),l=a(33339),i=a(1064);a(37120);let o=(0,l.F)("inline-flex shrink-0 items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-red-600 text-red-50 shadow-sm hover:bg-red-600/90",destructiveOutline:"border border-destructive bg-background text-destructive shadow-sm hover:bg-destructive hover:text-destructive-foreground",outline:"border border-input bg-background font-medium shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",secondaryInverted:"bg-gray-800 text-primary-foreground hover:bg-gray-700",ghost:"text-gray-500 hover:bg-gray-100 hover:text-gray-900",link:"text-primary underline-offset-4 hover:underline",ghostInverted:"flex items-center justify-center bg-transparent text-white hover:bg-gray-800 focus-visible:bg-gray-800 focus-visible:ring-0"},size:{default:"h-8 px-3 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9",toolbar:"h-8 w-8",mini:"h-6 w-6"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:d=!1,...u}=e,c=d?s.DX:"button";return(0,r.jsx)(c,{className:(0,i.cn)(o({variant:n,size:l,className:a})),ref:t,...u})});d.displayName="Button"},55387:(e,t,a)=>{a.d(t,{h:()=>n});var r=a(6145);let n=(0,r.createServerReference)("405d42d90a3d56c0bad677fa18634f20dad7ee020d",r.callServer,void 0,r.findSourceMapURL,"upsertPaymentMethodAction")},56479:(e,t,a)=>{a.d(t,{E:()=>s});var r=a(27545),n=a(1064);function s(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",t),...a})}},59276:(e,t,a)=>{a.d(t,{StripeProvider:()=>r});let r=(0,a(96064).default)(()=>a.e(8803).then(a.bind(a,48803)).then(e=>e.ClientStripeProvider),{loadableGenerated:{webpack:()=>[48803]},ssr:!1})},63564:(e,t,a)=>{a.d(t,{C:()=>i});var r=a(62246),n=a(28748);a(7407);let s=null,l={};function i(){if("undefined"==typeof document)return;s!==document.cookie&&(s=document.cookie,l=(0,r.qg)(s));let e=l[n.E];if(e)return!function(e){if(!e.startsWith(n.GD))throw Error("Invalid anonId: ".concat(e))}(e),e}},64695:(e,t,a)=>{a.d(t,{F:()=>l,w:()=>s});var r=a(41664),n=a(70492);function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{data:t,mutate:a}=(0,r.Ay)("showOnboardingModal",null,{fallbackData:e});return{showOnboardingModal:t,setShowOnboardingModal:a}}function l(e){return(0,n.k)("showOnboardingModal",e)}},65818:(e,t,a)=>{a.r(t),a.d(t,{Avatar:()=>i,AvatarFallback:()=>d,AvatarImage:()=>o,AvatarUser:()=>u});var r=a(27545),n=a(39149),s=a(30727),l=a(3906);let i=n.forwardRef((e,t)=>{let{className:a,size:n="md",rounded:i=!1,children:o,...d}=e;return(0,r.jsx)(s.bL,{className:(0,l.cn)("bg-alpha-400 relative flex shrink-0 select-none items-center justify-center overflow-hidden after:absolute after:inset-0 after:border after:mix-blend-darken dark:after:mix-blend-lighten","xs"===n&&"size-4 rounded-sm text-[0.5rem] after:rounded-sm [&_svg]:size-3","sm"===n&&"size-6 rounded-lg text-xs after:rounded-lg [&_svg]:size-4","md"===n&&"size-8 rounded-lg text-sm after:rounded-lg [&_svg]:size-6",i&&"rounded-full after:rounded-full",a),ref:t,...d,children:o})});i.displayName=s.bL.displayName;let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s._V,{className:(0,l.cn)("aspect-square h-full w-full object-cover",a),ref:t,...n})});o.displayName=s._V.displayName;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.H4,{className:(0,l.cn)("flex size-full items-center justify-center rounded-lg",a),ref:t,...n})});d.displayName=s.H4.displayName;let u=n.forwardRef((e,t)=>{let{size:a="md",userId:n,teamId:s,alt:l="Avatar",title:d="",s:u=64,...c}=e;if(!n&&!s)return console.error("Either userId or teamId must be provided"),null;let m="https://vercel.com/api/www/avatar/".concat(n).concat("original"===u?"":"?s=".concat(u)),p=(s?"https://vercel.com/api/www/avatar?teamId=".concat(s).concat("original"===u?"":"&s=".concat(u)):null)||m;return(0,r.jsx)(i,{ref:t,size:a,...c,children:(0,r.jsx)(o,{alt:l,className:"aspect-auto",src:p,style:{backgroundImage:"url(".concat(p,")"),backgroundSize:"cover"},title:d})},"avatar-".concat(n))});u.displayName="AvatarUser"},80922:(e,t,a)=>{a.d(t,{W:()=>r});function r(e){return!!e&&!("membership"in e)}},86141:(e,t,a)=>{a.d(t,{Cf:()=>p,Es:()=>g,HM:()=>c,L3:()=>h,c7:()=>f,lG:()=>o,rr:()=>v,zM:()=>d});var r=a(27545),n=a(39149),s=a(88599),l=a(3906),i=a(31747);let o=s.bL,d=s.l9,u=s.ZL,c=s.bm;u.displayName=s.ZL.displayName;let m=n.forwardRef((e,t)=>{let{className:a,omitPortal:n=!1,...i}=e;return(0,r.jsx)(s.hJ,{className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 bg-alpha-700 dark:bg-alpha-900 inset-0 z-50",n?"absolute":"fixed",a),ref:t,...i})});m.displayName=s.hJ.displayName;let p=n.forwardRef((e,t)=>{let{className:a,children:o,style:d,showClose:c=!0,omitPortal:p=!1,...f}=e,[g,h]=n.useState(0),v=n.useRef(null);n.useEffect(()=>{v.current=document.body,h(e=>e+1)},[]);let b=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{omitPortal:p}),(0,r.jsxs)(s.UC,{className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out shadow-modal data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] bg-background left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-[12px] px-6 py-8 outline-none duration-200 lg:w-full",p?"absolute":"fixed",a),ref:t,style:{...d},...f,children:[o,c?(0,r.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[(0,r.jsx)(i.F,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}):null]})]});return p?b:(0,r.jsx)(u,{container:v.current,children:b})});p.displayName=s.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col items-center space-y-2 text-center",t),...a})};f.displayName="DialogHeader";let g=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};g.displayName="DialogFooter";let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hE,{className:(0,l.cn)("whitespace-nowrap text-2xl font-semibold tracking-tight",a),ref:t,...n})});h.displayName=s.hE.displayName;let v=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.VY,{className:(0,l.cn)("text-gray-600",a),ref:t,...n})});v.displayName=s.VY.displayName},89033:(e,t,a)=>{a.d(t,{d:()=>i});var r=a(27545),n=a(63122),s=a(46269);let l=["alipay","amex","diners","discover","elo","hipercard","jcb","maestro","mastercard","paypal","unionpay","visa"];function i(e){let{brand:t}=e;return l.includes(t)?(0,r.jsx)(n.default,{alt:"logo for ".concat(t),height:"20",src:"/assets/cardbrands/".concat(t,".svg"),width:"14"}):(0,r.jsx)(s.A,{})}},94897:(e,t,a)=>{a.d(t,{UpgradePrompt:()=>z,L:()=>L,g:()=>D});var r=a(27545),n=a(39149),s=a(97797),l=a(44041),i=a(56670),o=a.n(i),d=a(41664),u=a(70492),c=a(37729),m=a(45458),p=a(56479),f=a(48891),g=a(65618),h=a(88704),v=a(10928),b=a(23897),x=a(23481),y=a(85551),w=a(6145);let j=(0,w.createServerReference)("7f723559f03816dd2fa8d985650a2dc4d9fd9e7ed0",w.callServer,void 0,w.findSourceMapURL,"detectUserVercelUsage");var N=a(36990),k=a(70244),S=a(50403);let R=(0,w.createServerReference)("7f26f59b91d4988cbbd02dc7d48d0a43cebb6d9791",w.callServer,void 0,w.findSourceMapURL,"updateTeamDetails");var P=a(20137),M=a(65818),C=a(11336),A=a(47224),_=a(79603),U=a(62787);let E={"v0-level0":{title:"For getting started.",bullets:["Generate content with v0","Share and publish chats","Up to 200 projects","Deploy apps to Vercel"]},"v0-level3":{title:"For more messages.",bullets:["Everything in Free","10-20x more messages than Free","5x higher attachment size limit","Unlimited projects","Import from Figma"]},"v0-platinum":{title:"For power users.",bullets:["Everything in Premium","30-50x more messages than Free","Priority access to newer models","Early access to new features"]},"v0-team":{title:"For collaborative teams.",bullets:["Everything in Premium","20-30x more messages than Free","Centralized Billing on vercel.com","Share chats, Blocks and projects with your team"]},"v0-enterprise":{title:"For larger companies.",bullets:["Everything in Team","30-50x more messages than Free","Data isolation and training opt-out by default","SAML SSO","Priority access for better performance and no queues","Dedicated customer support"]}};function D(){let{data:e,mutate:t}=(0,d.Ay)("upgradePromptOpen",null,{fallbackData:!1}),{data:a,mutate:r}=(0,d.Ay)("upgradePromptPlan",null,{fallbackData:null});return{upgradePromptOpen:e,setUpgradePromptOpen:(0,n.useCallback)(e=>{t(e),e||r(null)},[t,r]),upgradePromptPlan:a,setUpgradePromptPlan:r}}function L(e){return(0,u.k)("upgradePromptOpen",e)}function z(){let[e]=(0,f.d)(),t=e&&e.remaining<=0,{activeScope:a,scopes:i,refreshScopes:d,isActiveScopeReady:u}=(0,v.k6)(),[b,x]=(0,n.useState)("plans"),[y,w]=(0,n.useState)(void 0),C=(0,n.useMemo)(()=>null==i?void 0:i.find(e=>e.id===y),[i,y]),[A,E]=(0,n.useState)(null==C?void 0:C.avatar),L=(0,n.useRef)(null),{setPaymentDialogOpen:z}=(0,m.C)(),{upgradePromptOpen:F,upgradePromptPlan:B,setUpgradePromptOpen:V}=D(),[q,W]=(0,n.useTransition)(),K=(0,_.useRouter)(),{planInfo:Z,planSlug:H}=(0,l.N)(!0,null==a?void 0:a.id,!1),$=(0,n.useMemo)(()=>{var e;return"v0-team"===H?null==Z?void 0:null===(e=Z.plans)||void 0===e?void 0:e.filter(e=>"v0-team"===e.slug||"v0-enterprise"===e.slug):null==Z?void 0:Z.plans},[H,Z]),[J,Q]=(0,n.useState)(),G=(0,n.useMemo)(()=>"plans"===b?t?"Message Limit Reached":"Upgrade Plan":"Confirm your Team’s Details",[t,b]),X=(0,n.useMemo)(()=>{if("plans"===b){if(void 0===e)return(0,r.jsx)(p.E,{className:"h-4 w-full"});let a=[];if(H){let e=g.Md[H],r=J?g.Md[J]:void 0;t?(a.push("You have reached the message limit on the v0 ".concat(e," plan.")),"v0-team"===J||"v0-enterprise"===J?a.push("Start a v0 ".concat(r," plan for higher message limits.")):a.push("Upgrade ".concat(r?"to v0 ".concat(r," "):"","for higher message limits."))):a.push("You're currently on the v0 ".concat(e," plan."))}return(0,r.jsx)(h.ModalDescription,{children:a.map((e,t)=>(0,r.jsx)("p",{children:e},t))})}if("team-details"===b)return(0,r.jsx)(h.ModalDescription,{children:"Edit your Team’s avatar and name."})},[e,J,t,b,H]),ee=(0,n.useCallback)(()=>{z(!0),V(!1)},[z,V]),et=(0,n.useCallback)(e=>{W(async()=>{var t;if(!y)return;let a=e.get("team-name");if(!a){k.oR.error("Team name is required");return}let r=e.get("team-avatar"),n=await (t=r,new Promise(e=>{let a=new FileReader;a.addEventListener("load",t=>{let{target:a}=t;(null==a?void 0:a.result)instanceof ArrayBuffer&&crypto.subtle.digest("SHA-1",a.result).then(t=>{e(function(e){let t=[],a=new DataView(e);for(let e=0;e<a.byteLength;e+=4){let r=a.getUint32(e).toString(16),n="00000000",s=(n+r).slice(-n.length);t.push(s)}return t.join("")}(t))}).catch(e=>console.error(e))}),a.readAsArrayBuffer(t)}));!0===await R({teamId:y,name:a,avatar:r,avatarSha:n})?(d(),k.oR.success("Team details configured"),E(void 0),x("plans"),K.push("/chat/upgrade?teamId=".concat(y,"&premium=").concat("v0-level3"===H||"v0-platinum"===H?"1":"0")),w(void 0),V(!1)):k.oR.error("Failed to update team details. Please try again.")})},[y,H,d,K,V]),ea=(0,n.useCallback)(()=>{if(J&&(0,U.u)("ClickUpgradeModalButton",{targetPlan:J}),"plans"===b&&(("v0-level3"===J||"v0-platinum"===J)&&ee(),"v0-team"===J&&W(async()=>{let e=await j();if("error"in e){let t=Error(e.error);(0,N.z)(t)||k.oR.error("Failed to start team plan. Please try again.")}else{let{type:t,recommendedTeamId:a}=e;a&&K.prefetch("/chat/upgrade?teamId=".concat(a,"&premium=").concat("v0-level3"===H?"1":"0")),"new"===t?(w(a),x("team-details")):(K.push("/chat/upgrade?teamId=".concat(a,"&premium=").concat("v0-level3"===H?"1":"0")),V(!1))}})),"team-details"===b){var e;null===(e=L.current)||void 0===e||e.requestSubmit()}},[b,ee,H,K,J,V]),er=(0,n.useCallback)(e=>{if(e.size>=1048576){k.oR.error("File size is too large. Please upload a file smaller than 1MB.");return}E(URL.createObjectURL(e))},[E]);return((0,n.useEffect)(()=>{if(B)return Q(B);Q(I($,H))},[$,H,B]),$&&u)?(0,r.jsxs)(h.Modal,{onOpenChange:V,open:F,children:[(0,r.jsxs)(h.ModalHeader,{children:[(0,r.jsx)(h.ModalTitle,{children:G}),X]}),(0,r.jsxs)(h.ModalContent,{className:"is-mobile:items-center flex flex-col gap-3","data-testid":"upgrade-modal-content",children:["plans"===b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{plans:$,selectedPlan:J,setSelectedPlan:e=>Q(e)}),(0,r.jsxs)("p",{className:"flex gap-1 text-center text-sm text-gray-500",children:["Compare plans and options on our",(0,r.jsxs)(o(),{className:"flex items-center gap-x-1 text-blue-600",href:"/pricing",onClick:()=>V(!1),children:["pricing page ",(0,r.jsx)(c.A,{className:"size-3"})]})]})]}),"team-details"===b&&(0,r.jsxs)("form",{action:et,className:"flex flex-col gap-6",ref:L,children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[A?(0,r.jsx)(M.Avatar,{rounded:!0,className:"size-20",children:(0,r.jsx)(M.AvatarImage,{alt:"Uploaded team avatar",className:"aspect-auto",src:A,title:"Uploaded team avatar"})},"uploaded-avatar-image"):(0,r.jsx)(M.AvatarUser,{rounded:!0,className:"size-20",teamId:null==C?void 0:C.id}),(0,r.jsx)(Y,{uploading:q,onChange:er})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(P.Label,{htmlFor:"team-name",children:"Team Name"}),(0,r.jsx)(S.p,{id:"team-name",name:"team-name",required:!0,maxLength:256,minLength:1})]})]})]}),(0,r.jsxs)(h.ModalFooter,{className:"border-border bg-muted border-t !p-4",children:[(0,r.jsx)(s.$,{onClick:()=>{"team-details"===b?x("plans"):V(!1)},size:"sm",type:"button",variant:"secondary",children:"team-details"===b?"Back":"Cancel"}),(0,r.jsx)(O,{currentStep:b,isPending:q,onClick:ea,selectedPlan:J,currentPlan:H})]})]}):null}let T=e=>{let{plans:t,selectedPlan:a,setSelectedPlan:n}=e;return(0,r.jsxs)(b.Tabs,{className:"flex w-full flex-col gap-4",onValueChange:n,value:a,children:[(0,r.jsx)(b.TabsList,{className:"grid-cols-".concat(null==t?void 0:t.length," grid h-fit"),children:null==t?void 0:t.map(e=>(0,r.jsx)(b.TabsTrigger,{value:e.slug,children:e.name},e.slug))}),null==t?void 0:t.map(e=>(0,r.jsx)(b.a,{value:e.slug,children:(0,r.jsxs)("div",{className:"bg-muted border-alpha-200 flex h-72 flex-col gap-4 rounded-sm border p-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h1",{className:"text-base font-semibold",children:e.name}),(0,r.jsx)(F,{plan:e})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("p",{className:"font-semibold",children:E[e.slug].title}),(0,r.jsx)("ul",{className:"flex flex-col gap-3",children:E[e.slug].bullets.map(e=>(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.J,{size:20}),e]},e))})]})]})},e.slug))]})},F=e=>{let{plan:t}=e,a="v0-enterprise"===t.slug,n="v0-team"===t.slug,s=a?void 0:(0,x.m9)(t);return a?null:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-xl font-semibold",children:s}),(0,r.jsx)("span",{className:"align-text-bottom text-sm leading-7 text-gray-500",children:a?void 0:n?"/user/month":"/month"})]})},I=(e,t)=>{if(!e||!t)return;let a=e.find(e=>e.slug===t),r=a?e.indexOf(a):0,n=e[r+1];return n?n.slug:void 0},O=e=>{let{currentPlan:t,isPending:a,selectedPlan:n,onClick:l,currentStep:i}=e,d=(0,A.fu)();return n?n===t?(0,r.jsx)(s.$,{disabled:!0,size:"sm",children:"Current Plan"}):"v0-level0"===n?(0,r.jsx)(s.$,{className:"w-full md:w-auto",size:"sm",onClick:()=>(0,U.u)("ClickDowngradeModalButton",{targetPlan:"v0-level0"}),asChild:!0,type:"button",variant:"secondary",children:(0,r.jsx)(o(),{href:"/subscription?from=chat",children:"Downgrade Plan"})}):"v0-level3"===n&&"v0-platinum"===t?(0,r.jsx)(s.$,{className:"w-full md:w-auto",size:"sm",onClick:()=>(0,U.u)("ClickDowngradeModalButton",{targetPlan:"v0-level3"}),asChild:!0,type:"button",variant:"secondary",children:(0,r.jsx)(o(),{href:"/subscription?from=chat",children:"Downgrade Plan"})}):"v0-enterprise"===n?(0,r.jsx)(s.$,{onClick:()=>(0,U.u)("ClickUpgradeModalButton",{targetPlan:"v0-enterprise"}),className:"w-full md:w-auto",size:"sm",asChild:!0,type:"button",children:(0,r.jsx)(o(),{href:g.zz,children:"Contact Sales"})}):"v0-team"===n?(0,r.jsx)(s.$,{className:"w-full md:w-auto",disabled:a,onClick:l,size:"sm",type:"button",children:"plans"===i?"Start a ".concat(d[n].label," Plan"):"Continue to Payment"}):(0,r.jsxs)(s.$,{disabled:t===n,onClick:l,size:"sm",children:["Upgrade to ",d[n].label]}):null},Y=e=>{let{uploading:t,onChange:a}=e;return(0,r.jsx)(s.$,{asChild:!0,size:"sm",variant:"secondary",children:(0,r.jsxs)("label",{"data-id":"team-avatar-upload",htmlFor:"team-avatar",children:[(0,r.jsx)("input",{className:"sr-only","data-enable-grammarly":"false","data-gramm":"false","data-gramm_editor":"false",disabled:t,id:"team-avatar",name:"team-avatar",onChange:e=>{var t;e.preventDefault();let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&a(r)},accept:"image/png,image/jpeg",type:"file"}),(0,r.jsx)(C.b,{}),"Upload Photo"]})})}}}]);