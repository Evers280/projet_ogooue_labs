"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6417],{1108:(e,t,a)=>{a.d(t,{AM:()=>i,Wv:()=>c,hl:()=>l});var r=a(27545),n=a(39149),s=a(88322),o=a(3906);let i=s.bL;s.Mz;let c=s.l9;s.bm;let l=n.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:i=4,withOverlay:c,...l}=e,d=(0,r.jsx)(s.UC,{align:n,className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 bg-background z-50 w-[21rem] overflow-hidden rounded-xl shadow-md outline-none",a),ref:t,sideOffset:i,...l});return(0,r.jsx)(s.ZL,{children:c?(0,r.jsx)("div",{className:"fixed inset-0 z-[2000]",children:d}):d})});l.displayName=s.UC.displayName},6968:(e,t,a)=>{a.d(t,{b:()=>ee,n:()=>et});var r=a(27545),n=a(68649),s=a(67531),o=a(11877),i=a(79460),c=a(97247),l=a(69535),d=a(11980),u=a(74971),p=a(72205),m=a(17883),g=a(56122),h=a(44956),f=a(38919),j=a(62312),b=a(83456),x=a(44588),v=a(88131),y=a(96710),w=a(20990),k=a(36934),N=a(38747),A=a(17438),C=a(74822),R=a(80992),S=a(47757),P=a(89635),z=a(3164),I=a(69221),M=a(10786),T=a(14050),D=a(33636),E=a(47756),F=a(56458),L=a(51052),O=a(24001),B=a(32824),U=a(13368),q=a(47525),Z=a(67718),W=a(51618),$=a(31004),K=a(66121),V=a(71614),_=a(40331),G=a(32570),H=a(29231),Q=a(99118),J=a(67273),X=a(11812),Y=a(42844);let ee={"icon-alarm-clock":n.A,"icon-apple":s.A,"icon-app-window-mac":o.A,"icon-atom":i.A,"icon-bar-chart":c.A,"icon-blocks":l.A,"icon-book-text":d.A,"icon-briefcase":u.A,"icon-bug":p.A,"icon-calendar":m.A,"icon-camera":g.A,"icon-code":h.A,"icon-fingerprint":f.A,"icon-flame":j.A,"icon-flask-conical":b.A,"icon-folder-closed":x.A,"icon-gamepad":v.A,"icon-github":y.A,"icon-gitlab":w.A,"icon-globe":k.A,"icon-heart":N.A,"icon-home":A.A,"icon-image":C.A,"icon-key-square":R.A,"icon-laptop":S.A,"icon-layers":P.A,"icon-lightbulb":z.A,"icon-link":I.A,"icon-lock":M.A,"icon-mail":T.A,"icon-message-square-text":D.A,"icon-palette":E.A,"icon-paint-roller":F.A,"icon-pie-chart":L.A,"icon-rocket":O.A,"icon-scroll-text":B.A,"icon-settings":U.A,"icon-shield-check":q.A,"icon-smartphone":Z.A,"icon-siren":W.A,"icon-sprout":$.A,"icon-square-function":K.A,"icon-traffic-cone":V.A,"icon-trending-down":_.A,"icon-trending-up":G.A,"icon-trophy":H.A,"icon-user":Q.A,"icon-wand-sparkles":J.A,"icon-wrench":X.A,"icon-zap":Y.A};function et(e){let{name:t}=e,a=ee[t];return(0,r.jsx)(a,{})}},11762:(e,t,a)=>{a.d(t,{ProjectPageTitle:()=>h});var r=a(27545),n=a(39149),s=a(1064),o=a(85551),i=a(31747),c=a(90204),l=a(97797),d=a(70244),u=a(36990),p=a(80283),m=a(79603),g=a(28492);function h(e){let{initialTitle:t,projectId:a}=e,{projectName:h,updateProjectName:f}=(0,g.OT)(),[j,b]=(0,n.useState)(h||t),[x,v]=(0,n.useState)(!1),[y,w]=(0,n.useState)(!1),k=(0,m.useRouter)(),N=(0,n.useRef)(h||t),A=(0,n.useRef)(null);(0,n.useEffect)(()=>{x||(b(h||t),N.current=h||t)},[h,t,x]),(0,n.useEffect)(()=>{var e;x&&(null===(e=A.current)||void 0===e||e.focus())},[x]);let C=()=>{v(!0),N.current=j},R=()=>{v(!1),b(N.current)};async function S(e){w(!0);let t=e.get("name"),r=N.current;if(v(!1),b(t),t===r){w(!1);return}f(t),d.oR.success("Renamed project");try{let e=await (0,p.o)({projectId:a,name:t});if(!("success"in e)&&e.error)throw Error(e.error)}catch(e){f(r),b(r),v(!0),(0,u.z)(e,k,"Failed to rename project")||d.oR.error("Failed to rename project")}w(!1)}let P=(0,r.jsxs)("div",{className:"relative h-8 overflow-hidden",children:[(0,r.jsx)("input",{autoComplete:"off",className:(0,s.cn)("absolute inset-0 h-8 max-w-96 translate-y-[0.5px] border-b text-xl font-semibold leading-relaxed tracking-tight focus:!border-gray-500 focus:outline-none",!x&&"hidden"),"data-1p-ignore":!0,disabled:!x,id:"name",name:"name",onChange:e=>b(e.target.value),onKeyDown:e=>{"Escape"===e.key&&R()},ref:A,value:j}),(0,r.jsx)("h1",{className:(0,s.cn)("line-clamp-1 size-fit max-w-[150px] overflow-hidden whitespace-pre text-xl font-semibold leading-relaxed tracking-tight sm:max-w-96",x&&"invisible"),id:"name",children:j})]}),z=x?(0,r.jsxs)("div",{className:"gap animate-in slide-in-from-left-5 mb-0.5 flex",children:[(0,r.jsx)("div",{children:(0,r.jsx)(l.$,{"aria-label":"Update",className:"size-7",disabled:y,type:"submit",variant:"ghost",children:(0,r.jsx)(o.J,{className:"size-4"})})}),(0,r.jsx)(l.$,{"aria-label":"Cancel",className:"size-7",onClick:R,onTouchStart:R,type:"button",variant:"ghost",children:(0,r.jsx)(i.F,{className:"size-4"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{"aria-label":"Edit Project Name",className:"animate-in sm:slide-in-from-left-4 absolute inset-0 mb-0.5 items-center justify-end sm:hidden sm:cursor-text sm:group-hover:flex",onClick:C,type:"button",children:(0,r.jsx)(c.g,{className:"hidden size-3.5 translate-x-6 cursor-pointer sm:block"})}),(0,r.jsx)(l.$,{"aria-label":"Edit Project Name",className:"mb-0.5 inline-flex size-7 sm:hidden",onClick:C,type:"button",variant:"ghost",children:(0,r.jsx)(c.g,{className:"size-3.5"})})]});return(0,r.jsxs)("form",{className:"group relative flex items-center gap-2",onSubmit:async e=>{e.preventDefault();let t=new FormData(e.currentTarget);await S(t)},onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&x&&e.currentTarget.requestSubmit()},children:[P,z]})}},23807:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>o,aR:()=>i,wL:()=>u});var r=a(27545),n=a(39149),s=a(3906);let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("shadow-base bg-background-subtle rounded-lg",a),ref:t,...n})});o.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("grid gap-4",a),ref:t,...n})});i.displayName="CardHeader",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("bg-background mb-4 flex h-8 w-8 items-center justify-center rounded-lg border [&>svg]:size-4",a),ref:t,...n})}).displayName="CardIcon";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{className:(0,s.cn)("whitespace-nowrap font-medium leading-none tracking-tight",a),ref:t,...n})});c.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{className:(0,s.cn)("text-muted-foreground text-sm",a),ref:t,...n})});l.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("p-6 pt-0",a),ref:t,...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)(" flex items-center p-6 pt-0",a),ref:t,...n})});u.displayName="CardFooter"},26434:(e,t,a)=>{a.r(t),a.d(t,{Separator:()=>i});var r=a(27545),n=a(39149),s=a(67003),o=a(3906);let i=n.forwardRef((e,t)=>{let{className:a,orientation:n="horizontal",decorative:i=!0,...c}=e;return(0,r.jsx)(s.b,{className:(0,o.cn)("bg-border shrink-0","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",a),decorative:i,orientation:n,ref:t,...c})});i.displayName=s.b.displayName},28492:(e,t,a)=>{a.d(t,{LP:()=>m,M9:()=>c,OT:()=>g,Ok:()=>p,_t:()=>l,kL:()=>d,py:()=>u});var r=a(41664),n=a(39149),s=a(87240),o=a(65618),i=a(10928);function c(){let{data:e,mutate:t}=(0,r.Ay)("project:id");return{projectId:e,setProjectId:t}}function l(){let{data:e,mutate:t}=(0,r.Ay)("projects:for-user"),a=(0,n.useCallback)(e=>{t(t=>({selectedProjectId:e,projects:(null==t?void 0:t.projects)||[]})),s.A.set(o.PR,e||"",{expires:o.Cy})},[t]);return{projects:(null==e?void 0:e.projects)||[],selectedProjectId:(null==e?void 0:e.selectedProjectId)||null,setSelectedProjectId:a}}function d(e,t){let{projectId:a}=c(),n=e||a,{data:s,isLoading:o,mutate:i,error:l}=(0,r.Ay)(n?["project:instructions",n]:null,{shouldRetryOnError:!1,revalidateIfStale:!0,revalidateOnMount:!0,fallbackData:t||""});return{instructions:s||"",updateInstructions:i,isLoading:o,error:l}}function u(e){let{activeScopeSlug:t}=(0,i.k6)(),{projectId:a}=c(),s=e||a,{data:o,mutate:l,error:d,isValidating:u}=(0,r.Ay)(s?["project:sources",s]:null,async()=>{if(!s)throw Error("No project ID");let e=new URLSearchParams;e.set("projectId",s);let t=await fetch("/chat/api/projects/sources?".concat(e.toString()),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to load project sources");let a=await t.json();if(!a)throw Error("Failed to load project sources");return a},{revalidateIfStale:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1,refreshInterval:e=>500*(null!=e&&!!e.some(e=>"processing"===e.status&&!e.isOptimistic))}),p=!!d;(0,n.useEffect)(()=>{p&&console.error("Failed to load project sources:",d)},[p,d]);let m=(0,n.useCallback)(()=>{l()},[l]);return{sources:o||[],setSources:l,revalidateSources:m,isLoading:!o&&!d&&!!s&&!!t,isValidating:u}}function p(e){let{data:t,isLoading:a,mutate:n,error:s}=(0,r.Ay)(e?["project:vercel-project",e]:null,async()=>{let t=await fetch("/chat/api/projects/vercel?projectId=".concat(e));return await t.json()},{revalidateOnFocus:!1,revalidateIfStale:!0,revalidateOnMount:!1});return{vercelProjectWithDashboard:t?{project:t.project,dashboardProject:t.dashboardProject,prodBlockInfo:t.prodBlockInfo}:null,envVars:null==t?void 0:t.envVars,isLoading:a,error:s,refetchVercelProject:n}}function m(){let{data:e}=(0,r.Ay)("project:can-make-project-updates");return e||!1}function g(){let{data:e,mutate:t}=(0,r.Ay)("project:name");return{projectName:e||"Untitled Project",updateProjectName:t}}},38276:(e,t,a)=>{a.d(t,{ProjectIconPicker:()=>f});var r=a(27545),n=a(6145);let s=(0,n.createServerReference)("70503ef60e39344a011e0b4bb485147d1524ab711e",n.callServer,void 0,n.findSourceMapURL,"updateProjectSettingsIcon");var o=a(55073),i=a(77405),c=a(97797),l=a(56479),d=a(3906),u=a(96064),p=a(39149),m=a(73850);let g=(0,u.default)(()=>Promise.resolve().then(a.bind(a,55073)).then(e=>e.IconPicker),{loadableGenerated:{webpack:()=>[55073]},loading:()=>(0,r.jsx)(l.E,{className:"size-12 rounded-xl"})}),h=(0,u.default)(()=>Promise.resolve().then(a.bind(a,55073)).then(e=>e.IconPickerContent),{loadableGenerated:{webpack:()=>[55073]},loading:()=>(0,r.jsx)(o.IconPickerSkeleton,{})});function f(e){let{projectId:t,icon:a,color:n,size:o="lg",readOnly:l,isNewPage:u=!1,onSelect:f,random:j}=e,[b,x]=(0,p.useState)(!1),[v,y]=(0,p.useState)(!1),[w,k]=(0,p.useState)({name:(0,m.KI)(a),color:null!=n?n:""});return(0,p.useEffect)(()=>{k({name:(0,m.KI)(a),color:null!=n?n:""})},[a,n]),(0,r.jsx)(g,{random:j,icon:w,onValueChange:e=>{f&&f(e.name),k(e),y(!0),u||(0,p.startTransition)(()=>{s(t,e.name,e.color)})},trigger:(0,r.jsx)(c.$,{className:(0,d.cn)("aspect-square p-0","xs"===o&&"size-5 rounded-sm","sm"===o&&"size-8 rounded-lg","lg"===o&&"size-12 rounded-xl"),"data-testid":"project-icon-picker",disabled:l,onFocus:()=>y(!!v),onMouseEnter:()=>y(!1),tooltip:l?void 0:{open:!v&&b,onOpenChange:x,content:"Change icon"},variant:"ghost",children:(0,r.jsx)(i.h,{color:w.color,icon:w.name,size:"lg"})}),children:(0,r.jsx)(h,{})})}},53375:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g,useDeleteProjectModal:()=>h});var r=a(27545),n=a(97797),s=a(88704),o=a(41664),i=a(6145);let c=(0,i.createServerReference)("409090e7edc116fb95296fa66c7f98f043a7f76861",i.callServer,void 0,i.findSourceMapURL,"deleteProjectAction");var l=a(87902),d=a(70244),u=a(62787),p=a(79603),m=a(36990);function g(){let[e,t]=h(),a=(0,p.useRouter)(),o=(0,p.usePathname)();return(0,r.jsx)(s.Modal,{onOpenChange:e=>!e&&t(null),open:!!e,children:(0,r.jsxs)("form",{action:async()=>{try{let r=await c(e);if(!0===r)t(null),(0,u.u)("ClickDeleteProject",{targetProjectId:null!=e?e:"project-id-missing"}),d.oR.success("Project deleted"),o.startsWith("/chat/projects/".concat(e))&&a.push("/chat/projects");else throw Error(r.error)}catch(e){(0,m.z)(e)||d.oR.error("Failed to delete project")}},children:[(0,r.jsxs)(s.ModalHeader,{children:[(0,r.jsx)(s.ModalTitle,{children:"Delete Project"}),(0,r.jsxs)(s.ModalDescription,{children:["Are you sure you want to delete this project? All chats will be removed from the project, but they wonâ€™t be deleted."," ",(0,r.jsx)("span",{className:"font-medium",children:"This action cannot be reversed."})]})]}),(0,r.jsxs)(s.ModalFooter,{children:[(0,r.jsx)(s.ModalClose,{asChild:!0,children:(0,r.jsx)(n.$,{onClick:()=>t(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,r.jsx)(l.Q,{"data-testid":"delete-project-button",size:"sm",variant:"destructive",children:"Delete"})]})]})})}function h(){let{data:e,mutate:t}=(0,o.Ay)("showDeleteProjectModal",null);return[e,t]}},55073:(e,t,a)=>{a.r(t),a.d(t,{IconPicker:()=>h,IconPickerContent:()=>f,IconPickerSkeleton:()=>b});var r=a(27545),n=a(39149),s=a(97797),o=a(1108),i=a(3906),c=a(53515),l=a(88704),d=a(56479),u=a(6968),p=a(73850);let m=n.createContext(null),g=()=>{let e=n.useContext(m);if(!e)throw Error("useIconPicker must be used within an IconPicker");return e},h=n.forwardRef((e,t)=>{let{children:a,className:s,trigger:d,icon:u,onValueChange:p,...g}=e,h=(0,c.al)(480),[f,j]=n.useState(!1);return(0,r.jsx)(m.Provider,{value:{icon:u,onValueChange:p,open:f,setOpen:j},children:h?(0,r.jsxs)(l.Modal,{onOpenChange:j,open:f,trigger:d,children:[(0,r.jsx)("div",{className:"sr-only",children:(0,r.jsxs)(l.ModalHeader,{children:[(0,r.jsx)(l.ModalTitle,{children:"Change icon"}),(0,r.jsx)(l.ModalDescription,{children:"Change the icon and color of your project."})]})}),(0,r.jsx)(l.ModalContent,{className:"p-0",children:a})]}):(0,r.jsxs)(o.AM,{onOpenChange:j,open:f,children:[(0,r.jsx)(o.Wv,{asChild:!0,children:d}),(0,r.jsx)(o.hl,{align:"start",className:(0,i.cn)("w-auto",s),ref:t,sideOffset:8,...g,children:a})]})})});function f(e){let{...t}=e,{setOpen:a,icon:n,onValueChange:s}=g();return(0,r.jsx)("div",{...t,children:(0,r.jsx)(j,{onValueChange:e=>{s({...n,name:e}),a(!1)},value:n.name})})}h.displayName="IconPicker";let j=n.memo(n.forwardRef((e,t)=>{let{value:a,onValueChange:o,className:c,...l}=e,[d,m]=n.useState(0),g=n.useCallback(e=>{switch(e.key){case"ArrowRight":m(e=>(e+1)%p.RN.length);break;case"ArrowLeft":m(e=>(e-1+p.RN.length)%p.RN.length);break;case"ArrowDown":m(e=>(e+10)%p.RN.length);break;case"ArrowUp":m(e=>(e-10+p.RN.length)%p.RN.length);break;case"Enter":-1!==d&&o(p.RN[d])}},[d,o]),h=n.useCallback(e=>{o(e)},[o]),f=n.useCallback(e=>{m(e)},[]),j=n.useCallback(e=>{m(e)},[]);return n.useEffect(()=>{if(-1!==d){var e;null===(e=document.querySelector('[data-index="'.concat(d,'"]')))||void 0===e||e.focus()}},[d]),(0,r.jsx)("div",{className:(0,i.cn)("grid min-h-[208px] grid-cols-10 gap-2 overflow-y-auto p-2",c),onKeyDown:g,...l,ref:t,children:Object.entries(u.b).map((e,t)=>{let[n,o]=e;return(0,r.jsx)(s.$,{"aria-label":n,className:"aspect-square w-8 shrink-0 text-gray-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white data-[active=true]:bg-gray-200 data-[active=true]:text-black","data-active":n===a,"data-index":t,onClick:()=>h((0,p.KI)(n)),onFocus:()=>f(t),onMouseEnter:()=>f(t),onMouseLeave:()=>j(-1),size:"sm",title:n,variant:"ghost",children:(0,r.jsx)(o,{})},n)})})}));j.displayName="IconPickerItems";let b=()=>(0,r.jsx)("div",{className:"grid grid-cols-10 gap-2 overflow-y-auto p-2",children:Array.from({length:50}).map((e,t)=>(0,r.jsx)("div",{className:"flex aspect-square w-8 shrink-0 items-center justify-center",children:(0,r.jsx)(d.E,{className:"aspect-square w-4 shrink-0 rounded-md bg-gray-200"})},t))})},73850:(e,t,a)=>{a.d(t,{KI:()=>s,RN:()=>n});let r={"icon-alarm-clock":{tags:["alarm","clock","time"]},"icon-apple":{tags:["apple","fruit","brand"]},"icon-app-window-mac":{tags:["app","window","mac"]},"icon-atom":{tags:["atom","science","molecule"]},"icon-bar-chart":{tags:["bar-chart","data","analytics"]},"icon-blocks":{tags:["blocks","building","structure"]},"icon-book-text":{tags:["book","text","reading"]},"icon-briefcase":{tags:["briefcase","work","portfolio"]},"icon-bug":{tags:["bug","issue","error"]},"icon-calendar":{tags:["calendar","date","event"]},"icon-camera":{tags:["camera","photo","picture"]},"icon-code":{tags:["code","development","programming"]},"icon-fingerprint":{tags:["fingerprint","security","authentication"]},"icon-flame":{tags:["flame","fire","heat"]},"icon-flask-conical":{tags:["flask","science","experiment"]},"icon-folder-closed":{tags:["folder","closed","directory"]},"icon-gamepad":{tags:["gamepad","gaming","controller"]},"icon-github":{tags:["github","code","repository"]},"icon-gitlab":{tags:["gitlab","code","repository"]},"icon-globe":{tags:["globe","world","internet"]},"icon-heart":{tags:["heart","love","favorite"]},"icon-home":{tags:["home","house","dashboard"]},"icon-image":{tags:["image","picture","photo"]},"icon-key-square":{tags:["key","security","access"]},"icon-laptop":{tags:["laptop","computer","device"]},"icon-layers":{tags:["layers","stack","structure"]},"icon-lightbulb":{tags:["lightbulb","idea","innovation"]},"icon-link":{tags:["link","connection","hyperlink"]},"icon-lock":{tags:["lock","security","protection"]},"icon-mail":{tags:["mail","email","communication"]},"icon-message-square-text":{tags:["message","text","chat"]},"icon-palette":{tags:["palette","color","art"]},"icon-paint-roller":{tags:["paint","roller","art"]},"icon-pie-chart":{tags:["pie-chart","data","analytics"]},"icon-rocket":{tags:["rocket","launch","space"]},"icon-scroll-text":{tags:["scroll","text","document"]},"icon-settings":{tags:["settings","gear","preferences"]},"icon-shield-check":{tags:["shield","check","security"]},"icon-smartphone":{tags:["smartphone","mobile","device"]},"icon-siren":{tags:["siren","alert","alarm"]},"icon-sprout":{tags:["sprout","growth","nature"]},"icon-square-function":{tags:["function","math","calculation"]},"icon-traffic-cone":{tags:["traffic","cone","warning"]},"icon-trending-down":{tags:["trending-down","decrease","statistics"]},"icon-trending-up":{tags:["trending-up","increase","statistics"]},"icon-trophy":{tags:["trophy","award","achievement"]},"icon-user":{tags:["user","person","profile"]},"icon-wand-sparkles":{tags:["wand","magic","sparkles"]},"icon-wrench":{tags:["wrench","tool","repair"]},"icon-zap":{tags:["zap","lightning","electricity"]}},n=Object.keys(r);function s(e){return e&&e in r?e:"icon-flask-conical"}},77405:(e,t,a)=>{a.d(t,{h:()=>o});var r=a(27545),n=a(3906),s=a(6968);function o(e){let{icon:t,size:a="sm",variant:o="default",className:i}=e;return(0,r.jsx)("div",{className:(0,n.cn)("bg-background-subtle relative flex size-8 shrink-0 items-center justify-center text-gray-500 after:absolute after:inset-0 after:mix-blend-darken dark:after:mix-blend-lighten",{"size-5 rounded-sm after:rounded-sm [&>svg]:size-2.5 text-base after:border":"xs"===a,"size-8 rounded-lg after:rounded-lg [&>svg]:size-4 text-base after:border":"sm"===a,"size-12 rounded-xl after:rounded-xl [&>svg]:size-4 text-xl shadow-sm":"lg"===a},"menu-item"===o&&"size-4 bg-transparent text-gray-600 after:hidden group-hover:text-gray-900 group-focus:text-gray-900 [&>svg]:size-4",i),children:(0,r.jsx)(s.n,{name:t})})}},80283:(e,t,a)=>{a.d(t,{o:()=>n});var r=a(6145);let n=(0,r.createServerReference)("40f95a6fb1e89af890991fbbe84796c0e51523ab11",r.callServer,void 0,r.findSourceMapURL,"renameProject")},87902:(e,t,a)=>{a.d(t,{Q:()=>v,default:()=>x});var r=a(27545),n=a(39149),s=a(97797),o=a(50403),i=a(88707),c=a(23807),l=a(20137),d=a(6145);let u=(0,d.createServerReference)("708a77070bb0588b3f1d9525c55e53cba12adbcdda",d.callServer,void 0,d.findSourceMapURL,"updateProjectNameAndDescription"),p=(0,d.createServerReference)("60b08bdcb53728c3c47fd63f254c9b04ad9f114a5d",d.callServer,void 0,d.findSourceMapURL,"updateProjectSettingsInstructions"),m=(0,d.createServerReference)("60fd3ddbd0c038c0220228db1fb053dcd10913b5e2",d.callServer,void 0,d.findSourceMapURL,"updateProjectSettingsOptions");var g=a(88170),h=a(10289),f=a(53375),j=a(70244),b=a(36990);function x(e){var t,a,d,g;let{project:h,isAdmin:x}=e,[y,w]=(0,n.useState)(h.name),[k,N]=(0,n.useState)(h.description||""),[A,C]=(0,n.useState)((null===(t=h.settings)||void 0===t?void 0:t.instructions)||""),[R,S]=(0,n.useState)((null===(a=h.settings)||void 0===a?void 0:a.options)||""),[P,z]=(0,f.useDeleteProjectModal)(),[I,M]=(0,n.useTransition)(),T=(0,n.useCallback)(e=>{e.preventDefault(),I||M(async()=>{try{let e=await u(h.projectId,y,k);if(!0===e)j.oR.success("Project information updated.");else throw Error(e.error)}catch(e){(0,b.z)(e,void 0,"Failed to update project information.")||j.oR.error("Failed to update project information.")}})},[I,h.projectId,y,k]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{className:"p-6",children:[(0,r.jsx)(c.ZB,{className:"gap-2.5 text-xl",children:"Project Information"}),(0,r.jsx)(c.BT,{className:"text-gray-900",children:"Update your project's name and description."})]}),(0,r.jsxs)("form",{onSubmit:T,children:[(0,r.jsxs)(c.Wu,{className:"grid auto-rows-min gap-4",children:[(0,r.jsxs)("div",{className:"relative grid w-full gap-2",children:[(0,r.jsx)(l.Label,{htmlFor:"projectName",children:"Project Name"}),(0,r.jsx)(o.p,{id:"projectName",onChange:e=>w(e.target.value),value:y})]}),(0,r.jsxs)("div",{className:"relative grid gap-2",children:[(0,r.jsx)(l.Label,{htmlFor:"projectDescription",children:"Description (optional)"}),(0,r.jsx)(i.T,{id:"projectDescription",onChange:e=>N(e.target.value),placeholder:"Describe what this project is for...",value:k})]})]}),(0,r.jsx)(c.wL,{className:"rounded-b-lg border-t bg-gray-100 px-6 py-4",children:(0,r.jsx)(v,{className:"ml-auto",disabled:I||y===h.name&&k===h.description,children:"Save"})})]})]}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{className:"p-6",children:[(0,r.jsx)(c.ZB,{className:"gap-2.5 text-xl",children:"Instructions"}),(0,r.jsx)(c.BT,{className:"text-gray-900",children:"Guidelines or instructions the model will use to generate better responses to prompts."})]}),(0,r.jsxs)("form",{action:p.bind(null,h.projectId,A),children:[(0,r.jsx)(c.Wu,{className:"grid auto-rows-min gap-4",children:(0,r.jsxs)("div",{className:"relative grid gap-2",children:[(0,r.jsx)(l.Label,{className:"sr-only",htmlFor:"instructions",children:"Context"}),(0,r.jsx)(i.T,{id:"instructions",onChange:e=>C(e.target.value),placeholder:"Ex: This project is using App Router, Next.js and Tailwind CSS.",value:A})]})}),(0,r.jsx)(c.wL,{className:"rounded-b-lg border-t bg-gray-100 px-6 py-4",children:(0,r.jsx)(v,{className:"ml-auto",disabled:A===(null===(d=h.settings)||void 0===d?void 0:d.instructions),children:"Save"})})]})]}),x&&(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{className:"p-6",children:[(0,r.jsx)(c.ZB,{className:"gap-2.5 text-xl",children:"Advanced Options (Admin Only)"}),(0,r.jsx)(c.BT,{className:"text-gray-900",children:"Customize the behavior of v0 using flags."})]}),(0,r.jsxs)("form",{action:m.bind(null,h.projectId,R),children:[(0,r.jsx)(c.Wu,{className:"relative grid auto-rows-min gap-4",children:(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(l.Label,{className:"sr-only",htmlFor:"options",children:"Options"}),(0,r.jsx)(o.p,{id:"options",onChange:e=>S(e.target.value),placeholder:"stripe=1",value:R})]})}),(0,r.jsx)(c.wL,{className:"rounded-b-lg border-t bg-gray-100 px-6 py-4",children:(0,r.jsx)(v,{className:"ml-auto",disabled:R===(null===(g=h.settings)||void 0===g?void 0:g.options),children:"Save"})})]})]}),(0,r.jsxs)(c.Zp,{className:"border border-red-500",children:[(0,r.jsxs)(c.aR,{className:"gap-2.5 p-6",children:[(0,r.jsx)(c.ZB,{className:"text-xl",children:"Delete Project"}),(0,r.jsx)(c.BT,{className:"text-gray-900",children:"The project will be permanently deleted. All chats in this project will also be deleted. This action is irreversible and can not be undone."})]}),(0,r.jsx)(c.wL,{className:"rounded-b-lg border-t border-red-500 bg-red-100 px-6 py-4",children:(0,r.jsx)(s.$,{className:"ml-auto",onClick:()=>{z(h.projectId)},size:"sm",variant:"destructive",children:"Delete Project"})})]})]})}function v(e){let{children:t,...a}=e,{pending:n}=(0,g.useFormStatus)();return(0,r.jsx)(s.$,{...a,disabled:a.disabled||n,size:"sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[n?(0,r.jsx)(h.y,{size:16}):null,t]})})}},88707:(e,t,a)=>{a.d(t,{T:()=>i});var r=a(27545),n=a(39149),s=a(3906),o=a(58811);let i=n.forwardRef((e,t)=>{let{className:a,asChild:n=!1,...i}=e,c=n?o.DX:"textarea";return(0,r.jsx)(c,{className:(0,s.cn)("focus-visible:border-alpha-600 disabled:border-alpha-300 bg-background inline-flex min-h-20 w-full shrink-0 rounded-lg border p-3 text-sm outline-none transition-all file:border-0 placeholder:text-gray-400 disabled:pointer-events-none disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-400 disabled:ring-0",a),ref:t,...i})});i.displayName="Textarea"}}]);