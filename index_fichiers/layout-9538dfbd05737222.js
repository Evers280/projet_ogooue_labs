(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3706,8069],{2724:(e,t,n)=>{"use strict";n.d(t,{DataProvider:()=>i,Q:()=>s});var r=n(27545),o=n(39149);let a=(0,o.createContext)({});function i(e){let{children:t}=e;return(0,r.jsx)(a.Provider,{value:{},children:t})}function s(){return(0,o.use)(a)}},3497:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(27545),o=n(39149),a=n(87240),i=n(81230);n(57508);let s=["essential","marketing","analytics"];function l(){let{cookiesToDeleteOnOptOut:e,cookieDomain:t="",cookiePath:n="/"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,d]=(0,o.useState)([]);function u(){var r;if(!window.Fides)return;let o=[...Object.keys(r=window.Fides.consent).filter(e=>r[e]),...s.filter(e=>!(e in r))];s.forEach(r=>{if(!o.includes(r))e&&Object.keys(a.A.get()).forEach(o=>{e.forEach((e,i)=>{new RegExp(i).test(o)&&e!==r&&a.A.remove(o,{path:n,domain:t})})})}),d(o)}function m(){window.Fides&&(window.Fides.gtm(),u())}return(0,o.useEffect)(()=>(window.addEventListener("FidesUpdated",u),window.addEventListener("FidesInitialized",m),()=>{window.removeEventListener("FidesUpdated",u),window.removeEventListener("FidesInitialized",m)}),[]),{categoriesAccepted:l,ethycaScript:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(i.default,{src:"https://vercel.fides-cdn.ethyca.com/fides.js",strategy:"lazyOnload"})]})}}function c(){let[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=new MutationObserver(function(e){for(let n of e){if("childList"!==n.type)return;let e=Array.from(document.head.getElementsByTagName("style")).find(e=>e.innerHTML.includes("--fides"));e&&(e.remove(),t(!0))}});return e.observe(document.head,{childList:!0,subtree:!0}),()=>{e.disconnect()}},[]),e?null:(0,r.jsx)("style",{children:"\n            #fides-overlay {\n              display: none !important;\n            }\n            "})}},3851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TrackInfo:()=>l});var r=n(41664),o=n(79603),a=n(39149),i=n(4432),s=n(18214);function l(){let e=(0,o.usePathname)(),t=(0,s.cy)(),{data:n}=(0,r.Ay)("track:lastPage"),{chatId:l,blockId:c}=function(e){var t;let n=(0,i.eu)();return e&&"id"in e&&"string"==typeof e.id?{chatId:e.id,blockId:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:null}:{chatId:null,blockId:null}}(t),d=(0,a.useMemo)(()=>({pathname:e,pathParams:t,chatId:l,blockId:c,lastPage:n||null}),[c,l,n,t,e]);return(0,a.useEffect)(()=>{window.v0c||(window.v0c={}),window.v0c.ti=d},[d]),null}},6986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnalyticsHooks:()=>s});var r=n(10928),o=n(39149),a=n(93090),i=n(15204);function s(){return!function(){let{user:e,activeScopeSlug:t,isTeam:n}=(0,r.k6)(),s=(0,o.useMemo)(()=>e?n?"user:".concat(e.username,":team:").concat(t):"user:".concat(e.username):null,[e,n,t]),l=(0,i.Z)(null==e?void 0:e.id),c=e&&!l,d=!e&&l;(0,o.useEffect)(()=>{if(e&&s)try{var r,o,i;null===(r=window.ko)||void 0===r||r.identify({id:e.id,name:e.name,userVercelPlan:e.plan,scopeSlug:t,isTeam:n,origin:"chat"}),null===(o=window.heap)||void 0===o||o.identify(s),null===(i=window.heap)||void 0===i||i.addUserProperties({name:e.name,userVercelPlan:e.plan,scopeSlug:t,origin:"chat",userId:e.id})}catch(e){}d&&a.z.reset()},[e,d,t,n,s,c])}(),null}},9082:(e,t,n)=>{"use strict";n.d(t,{Op:()=>u,MO:()=>m,fB:()=>h});var r=n(27445),o=n(59028),a=n(91974),i=n(31451),s=n(87240);function l(){let e=s.A.get(o.rD);return(0,o.Ik)(e)}function c(e,t){!function(e){let t=(0,o.$N)(e);for(;t.length>2048&&Object.keys(e).length>0;){let n=function(e){var t;return null!==(t=Object.entries(e).sort((e,t)=>{let[,n]=e,[,r]=t;return(0,o.q_)(n.lastUpdated,r.lastUpdated)}).map(e=>{let[t]=e;return t})[0])&&void 0!==t?t:null}(e);if(!n)break;delete e[n],t=(0,o.$N)(e)}s.A.set(o.rD,t)}({...l(),[e]:t})}let d=new Map,u=(0,a.G)(d,e=>{let t=h(e);function n(e,t,n){let r=h(e);c(e,{...r,[t]:n,lastUpdated:(0,o.tD)()})}let a=(0,r.eU)(t.composerLayout,(t,r,o)=>{n(e,"composerLayout",o),r(a,o)}),i=(0,r.eU)(t.panelsLayout,(t,r,o)=>{n(e,"panelsLayout",o),r(i,o)}),s=(0,r.eU)(t.mobilePanel,(t,r,o)=>{n(e,"mobilePanel",o),r(s,o)}),l=(0,r.eU)(t.sidebar,(t,r,o)=>{n(e,"sidebar",o),r(l,o)}),d=(0,r.eU)(t.lastUpdated,(t,r,o)=>{n(e,"lastUpdated",o),r(d,o)});return{composerLayout:a,panelsLayout:i,mobilePanel:s,sidebar:l,lastUpdated:d}});function m(e){let t=e?Object.keys(e):[],n=l();return Array.from(new Set([...n?Object.keys(n):[],...Array.from(d.keys()),...t]))}function h(e,t){if(t&&e in t)return t[e];let n=function(e){let t=l();return t&&e in t?t[e]:null}(e);if(n)return n;let r=function(e){let t=d.get(e);if(!t)return null;let n=i.M.get(t.composerLayout),r=i.M.get(t.panelsLayout),o=i.M.get(t.mobilePanel);return{composerLayout:n,panelsLayout:r,mobilePanel:o,sidebar:i.M.get(t.sidebar),lastUpdated:i.M.get(t.lastUpdated)}}(e);if(r)return c(e,r),r;let a=o.h5;return c(e,a),a}},10514:(e,t,n)=>{"use strict";n.d(t,{ScopedSWRDataProvider:()=>s,j:()=>l});var r=n(27545),o=n(39149),a=n(12658);let i=(0,o.createContext)({});function s(e){let{children:t,actions:n}=e,a=(0,o.useMemo)(()=>n,[n]);return(0,r.jsx)(i.Provider,{value:a,children:t})}let l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.B)(i,...t)}},11321:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PageViewTracker:()=>l});var r=n(27545),o=n(79603),a=n(39149),i=n(62787),s=n(41664);function l(){return(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(c,{})})}function c(){let e=(0,a.useRef)(null),t=function(){let e=(0,o.useSearchParams)(),t=(0,o.usePathname)(),[n,r]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=new MutationObserver(function(){setTimeout(()=>{r(window.location.pathname+window.location.search)})});e.observe(window.document,{childList:!0,subtree:!0});let t=()=>{r(window.location.pathname+window.location.search)};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t),e.disconnect()}},[]),(0,a.useMemo)(()=>window.location.pathname+window.location.search,[n,t,e])}(),{mutate:n}=(0,s.Ay)("track:lastPage");return(0,a.useEffect)(()=>{t&&e.current!==t&&(e.current=t,n(window.location.href),(0,i.u)("ViewPage"))},[t,n]),null}},12658:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var r=n(96453),o=n(12289),a=n(39149),i=n(41664);let s=new Map;function l(e,t,n,l){let c=(0,a.useMemo)(()=>!0,[]),d=(0,a.useRef)(!1),u=(0,a.useContext)(e),m=(0,a.useMemo)(()=>u[n],[u,n]);if(!u||!m)throw Error(["Called a use*ContextSWR hook outside of *SWRDataProvider: ".concat(String(n)),"Missing context:","  use(context): ".concat(JSON.stringify(u)),"  action = context[actionKey]: ".concat(JSON.stringify(m))].join("\n"));let h=(0,a.useMemo)(()=>m.serverPromise,[m]),f=(0,a.useMemo)(()=>m.fallbackData,[m]),v=(0,a.useMemo)(()=>(0,i.WI)([n,t]),[t,n]),p=(0,a.useCallback)(async()=>{var e;return(d.current=!0,!(void 0!==(e=h)&&"object"==typeof e&&"status"in e&&"fulfilled"===e.status)&&void 0!==h&&(null==l?void 0:l.awaitServerPromise))?h:(0,r.createRouteFetcherForAction)(m.actionRoute)(t)},[h,null==l?void 0:l.awaitServerPromise,m.actionRoute,t]),b=(0,i.Ay)(v,async()=>p(),{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnMount:!1,...l,fallbackData:h}),w=(0,a.useCallback)(async()=>new Promise(async(e,t)=>{try{let t=await p();await b.mutate(t),e(t)}catch(n){if(f)try{await b.mutate(f),e(f)}catch(e){throw Error("force revalidation failed: could not mutate with fallback data",{cause:e})}t(Error("Force revalidation failed in useContextSWR",{cause:n}))}}),[f,p,b]);if(void 0!==h||c||(0,o.Postpone)({reason:"useContextSWR",route:v}),void 0===b.data){if(h)throw Error(["Response data is undefined in useContextSWR:","  key: ".concat(JSON.stringify(t)),"  actionKey: ".concat(String(n)),"","This likely means you are missing a Suspense boundary around the component"].join("\n"));if(s.has(v))throw s.get(v);let e=w();throw s.set(v,e),e}return(0,a.useEffect)(()=>{if(void 0!==b.data)return()=>{s.delete(v)}},[b.data,v]),b}},15204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(39149);function o(e){let t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},19454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnalyticsScripts:()=>s});var r=n(27545),o=n(39149),a=n(93090),i=n(3497);function s(e){let{disableKoalaAutocapture:t=!1,children:n}=e,{categoriesAccepted:s}=(0,i.Y)();return(0,o.useMemo)(()=>(a.z.setKoalaAutocapture(!t),(0,r.jsxs)(r.Fragment,{children:[a.z.getScripts(s),n]})),[t,s,n])}},32882:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConsentBanner:()=>l});var r=n(3497),o=n(65618),a=n(93115);let i=(0,a.e1)([(0,a.Gi)({slug:{dev:"vercel-dev",prod:"vercel"}}),(0,a.ME)({appId:{dev:"4258834224",prod:"380479483"}})]).getAllCookiesMappedToConsentCategory(),s=new Map([...o.gc,...i]);function l(){let{ethycaScript:e}=(0,r.Y)({cookiesToDeleteOnOptOut:s});return e}},33964:(e,t,n)=>{"use strict";n.d(t,{HydrateDurableAtoms:()=>i});var r=n(76088),o=n(9082),a=n(39149);function i(e){let{serverData:t,children:n}=e,i=(0,a.useMemo)(()=>(0,o.MO)(t),[t]),l=(0,a.useMemo)(()=>i.reduce((e,t)=>{let n=s(t),r=(0,o.Op)(t);return{...e,[n.composerLayout]:r.composerLayout,[n.panelsLayout]:r.panelsLayout,[n.mobilePanel]:r.mobilePanel,[n.sidebar]:r.sidebar}},{}),[i]),c=(0,a.useMemo)(()=>i.reduce((e,n)=>{let r=s(n),a=(0,o.fB)(n,t);return{...e,[r.composerLayout]:a.composerLayout,[r.panelsLayout]:a.panelsLayout,[r.mobilePanel]:a.mobilePanel,[r.sidebar]:a.sidebar}},{}),[i,t]);return(0,r.R)({atoms:l,data:c}),n}function s(e){return{composerLayout:"".concat(e,"/composerLayout"),panelsLayout:"".concat(e,"/panelsLayout"),mobilePanel:"".concat(e,"/mobilePanel"),sidebar:"".concat(e,"/sidebar"),lastUpdated:"".concat(e,"/lastUpdated")}}},38257:(e,t,n)=>{"use strict";n.d(t,{ThemeProvider:()=>l,D:()=>c});var r=n(27545),o=n(39149);"(function() {\n  !function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()\n  var html = document.documentElement;\n  var meta = document.querySelector('meta[name=\"theme-color\"]');\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('name', 'theme-color');\n    document.head.appendChild(meta);\n  }\n  function updateThemeColor() {\n    window.themeClass = html.className;\n    var isDark = html.classList.contains('dark');\n    meta.setAttribute('content', isDark ? '".concat("hsl(240deg 3% 6%)","' : '").concat("hsl(0 0% 100%)","');\n  }\n  var observer = new MutationObserver(updateThemeColor);\n  observer.observe(html, { attributes: true, attributeFilter: ['class'] });\n  updateThemeColor();\n})();");let a=()=>{!function(){!function(){try{let e=document.documentElement,t=e.classList;t.remove("light","dark");let n=localStorage.getItem("theme");if("system"!==n&&n)n&&t.add(n||"");else{let n="(prefers-color-scheme: dark)",r=window.matchMedia(n);r.media!==n||r.matches?(e.style.colorScheme="dark",t.add("dark")):(e.style.colorScheme="light",t.add("light"))}("light"===n||"dark"===n)&&(e.style.colorScheme=n)}catch(e){}}();let e=document.documentElement,t=document.querySelector('meta[name="theme-color"]');function n(){window.themeClass=e.className;let n=e.classList.contains("dark");null==t||t.setAttribute("content",n?"${DARK_THEME_COLOR}":"${LIGHT_THEME_COLOR}")}t||((t=document.createElement("meta")).setAttribute("name","theme-color"),document.head.appendChild(t)),new MutationObserver(n).observe(e,{attributes:!0,attributeFilter:["class"]}),n()}()},i=(0,o.createContext)({theme:"",setTheme:e=>{}}),s=e=>{window.themeClass=e,document.documentElement.className=e,document.documentElement.style.colorScheme=e};function l(e){let{children:t}=e,n="";n=localStorage.getItem("theme")||document.documentElement.className||"";let[l,c]=(0,o.useState)(n),d=(0,o.useMemo)(()=>({theme:l,setTheme:e=>{!function(e){try{localStorage.setItem("theme",e)}catch(e){console.error(e)}let t=e;"system"===e&&(t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),s(t)}(e),c(e)}}),[l,c]);return(0,o.useEffect)(()=>{a()},[]),(0,o.useEffect)(()=>{if("system"!==d.theme)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{"system"===d.theme&&s(e.matches?"dark":"light")};return e.addEventListener("change",t),t(e),()=>e.removeEventListener("change",t)},[d]),(0,r.jsx)(i.Provider,{value:d,children:t})}function c(){return(0,o.useContext)(i)}},40363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DubClient:()=>o});var r=n(39149);function o(){return(0,r.useEffect)(()=>{var e,t;let n=new URLSearchParams(window.location.search),r=n.get("dub_id"),o=n.get("via");if(!r)return;let a=new Date(Date.now()+2592e6);e=JSON.stringify({dubId:r,via:o}),t=a,document.cookie="".concat("via","=").concat(e,"; path=/; expires=").concat(t.toUTCString())},[]),null}},57508:()=>{},59028:(e,t,n)=>{"use strict";n.d(t,{$N:()=>v,Ik:()=>f,h5:()=>h,jY:()=>s,q_:()=>b,rD:()=>a,tD:()=>p});var r=n(37906),o=n(23338);let a="v0-durable-state",i=o.z.enum(["collapsed","compact","fullscreen"]),s=["block","editor"],l=o.z.enum(s),c=o.z.enum(["history","environment-variables","assets","knowledge","collapsed","chat-log"]),d=o.z.object({id:l,ratio:o.z.number(),collapsed:o.z.boolean().default(!1)}),u=o.z.object({composerLayout:i,panelsLayout:o.z.array(d).refine(e=>{let t=e.map(e=>e.id),n=new Set(t),r=l.options;return n.size===t.length&&r.every(e=>t.includes(e))},"Panel layout must contain exactly one of each panel type (block, editor, chat)"),mobilePanel:l,sidebar:c,lastUpdated:o.z.number()}),m=o.z.record(o.z.string(),u),h={composerLayout:"collapsed",panelsLayout:s.map(e=>({id:e,ratio:1/s.length,collapsed:"block"!==e})),mobilePanel:"block",sidebar:"collapsed",lastUpdated:p()};function f(e){try{if(!e)return null;let t=(0,r.decompressFromBase64)(e);if(!t)return null;let n=JSON.parse(t),o=m.safeParse(n);if(!o.success)throw Error("Invalid durable state",{cause:o.error});return o.data}catch(e){return console.warn("Error parsing durable state cookie:",e),null}}function v(e){return(0,r.compressToBase64)(JSON.stringify(e))}function p(){let e=new Date,t=e.getFullYear()%100,n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return parseInt("".concat(t).concat(n).concat(r).concat(o).concat(a))}function b(e,t){return e-t}},61587:(e,t,n)=>{"use strict";n.d(t,{JotaiProvider:()=>i});var r=n(27545),o=n(49185),a=n(31451);function i(e){let{children:t}=e;return(0,r.jsx)(o.Kq,{store:a.M,children:t})}},63928:(e,t,n)=>{"use strict";n.d(t,{SessionManager:()=>o});var r=n(41664);function o(){return function(){let{data:e,mutate:t}=(0,r.Ay)("/api/auth/update",e=>fetch(e,{method:"POST"}).then(e=>e.status));403===e&&window.location.reload()}(),null}},72549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MotionConfig:()=>r.x});var r=n(57479)},76088:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(93919),o=n(31451);function a(e){let{atoms:t,data:n}=e,a=Object.entries(n).filter(e=>{let[n]=e;return!!t[n]}).map(e=>{let[n,r]=e;return[t[n],r]});(0,r.RH)(a,{store:o.M})}},82720:()=>{},93090:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(93115);let o=(0,r.e1)([(0,r.Gi)({slug:{dev:"vercel-dev",prod:"vercel"}}),(0,r.ME)({appId:{dev:"4258834224",prod:"380479483"}})])},96453:(e,t,n)=>{"use strict";function r(e){return async t=>{let n,r=e.path,o=e.path.match(/\[([^\]]+)\]/g)||[];for(let e of o){let n=e.slice(1,-1),o=t[n];if(void 0===o)throw Error("Missing required parameter: ".concat(n));r=r.replace(e,encodeURIComponent(String(o)))}if("GET"===e.method){let e=new URLSearchParams;Object.entries(t).forEach(t=>{let[n,r]=t;o.includes("[".concat(n,"]"))||void 0===r||e.append(n,String(r))});let n=e.toString();n&&(r+="?".concat(n))}let a=e.method;if(!(n="GET"===a?await fetch(r):await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok){let e=await n.json().catch(()=>null);throw Error("HTTP error ".concat(n.status,": ").concat((null==e?void 0:e.error)||n.statusText))}return n.json()}}n.r(t),n.d(t,{createRouteFetcherForAction:()=>r})},98073:(e,t,n)=>{Promise.resolve().then(n.bind(n,33964)),Promise.resolve().then(n.bind(n,61587)),Promise.resolve().then(n.bind(n,96453)),Promise.resolve().then(n.bind(n,10514)),Promise.resolve().then(n.t.bind(n,82720,23)),Promise.resolve().then(n.bind(n,73950)),Promise.resolve().then(n.bind(n,2724)),Promise.resolve().then(n.bind(n,93589)),Promise.resolve().then(n.bind(n,45016)),Promise.resolve().then(n.bind(n,75838)),Promise.resolve().then(n.bind(n,9300)),Promise.resolve().then(n.bind(n,72549)),Promise.resolve().then(n.bind(n,82619)),Promise.resolve().then(n.bind(n,8228)),Promise.resolve().then(n.bind(n,6986)),Promise.resolve().then(n.bind(n,19454)),Promise.resolve().then(n.bind(n,32882)),Promise.resolve().then(n.bind(n,11321)),Promise.resolve().then(n.bind(n,3851)),Promise.resolve().then(n.bind(n,38257)),Promise.resolve().then(n.bind(n,79006)),Promise.resolve().then(n.bind(n,4069)),Promise.resolve().then(n.t.bind(n,50020,23)),Promise.resolve().then(n.bind(n,49289)),Promise.resolve().then(n.bind(n,5979)),Promise.resolve().then(n.bind(n,6354)),Promise.resolve().then(n.bind(n,89663)),Promise.resolve().then(n.bind(n,3751)),Promise.resolve().then(n.bind(n,49049)),Promise.resolve().then(n.bind(n,63821)),Promise.resolve().then(n.t.bind(n,56670,23)),Promise.resolve().then(n.t.bind(n,91761,23)),Promise.resolve().then(n.t.bind(n,68201,23)),Promise.resolve().then(n.t.bind(n,10541,23)),Promise.resolve().then(n.t.bind(n,61347,23)),Promise.resolve().then(n.t.bind(n,24226,23)),Promise.resolve().then(n.bind(n,63928)),Promise.resolve().then(n.bind(n,40363))}},e=>{var t=t=>e(e.s=t);e.O(0,[7744,4931,470,8651,7977,6353,6846,9660,6849,4893,6897,1664,6670,9115,2950,4619,5112,83,6502,3922,4391,5025,4815,2164,3054,3338,200,1535,7222,3248,4699,2236,6881,9409,5838,4686,1572,6417,6479,4432,9248,7909,7358],()=>t(98073)),_N_E=e.O()}]);