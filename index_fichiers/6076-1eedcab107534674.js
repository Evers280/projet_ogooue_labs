(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6076],{3083:(e,t,l)=>{"use strict";l.d(t,{default:()=>o});var s=l(27545);l(39149);var n=l(75838),a=l(98355),i=l(3906),r=l(32174);let o=e=>{let{className:t}=e,{expectUser:l}=(0,n.J)();return l?null:(0,s.jsxs)("header",{className:(0,i.cn)("bg-background absolute left-0 top-0 z-10 flex h-14 w-screen items-center justify-between px-4",t),children:[(0,s.jsx)(r.NewChatButton,{variant:"logo"}),(0,s.jsx)(a._,{})]})}},13524:(e,t,l)=>{"use strict";l.d(t,{a:()=>s});let s=(0,l(69435).G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.5303 6.53033L12.0607 6L11 4.93934L10.4697 5.46967L6.5 9.43934L5.53033 8.46967L5 7.93934L3.93934 9L4.46967 9.53033L5.96967 11.0303C6.26256 11.3232 6.73744 11.3232 7.03033 11.0303L11.5303 6.53033Z" fill="currentColor"/>')},27492:(e,t,l)=>{"use strict";l.d(t,{TemplateListInfiniteClient:()=>S});var s=l(27545),n=l(39149),a=l(68617),i=l(6145);let r=(0,i.createServerReference)("7f9a60d64a24968ac7b794f0839962849747d35074",i.callServer,void 0,i.findSourceMapURL,"getHomepageTemplatesAction");var o=l(53548),c=l(23807),d=l(75728);l(56479);var m=l(8684),u=l(97797),h=l(3906),x=l(71426),p=l(40717),f=l(90003);function g(e){let{image:t,title:l,uses:n,className:a,template:i,avatar:r,showStatus:o}=e,c="/chat/community/".concat(i.templateCanonId),d=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.PrefetchLinkAndRefreshOnHover,{href:c,className:"absolute inset-0 sm:hidden"}),(0,s.jsx)(p.PrefetchLinkAndRefreshOnHover,{href:c,tabIndex:-1,className:"absolute inset-0 hidden sm:block"}),(0,s.jsxs)("div",{className:"z-10 hidden w-32 flex-col items-center justify-center gap-2 sm:flex",children:[(0,s.jsx)(u.$,{size:"sm",className:"w-full ",asChild:!0,children:(0,s.jsx)(p.PrefetchLinkAndRefreshOnHover,{href:c,children:"View Details"})}),(0,s.jsx)(m.TemplateBlockButton,{formProps:{className:"w-full"},buttonProps:{variant:"secondary",className:"w-full",hideTextWhenPending:!0},template:i})]})]});return(0,s.jsxs)("div",{className:(0,h.cn)("has-[:focus-visible]:ring-offset-background relative flex w-full flex-col gap-2 text-sm sm:min-w-0",a),children:[(0,s.jsxs)("div",{className:"shadow-base bg-muted relative aspect-video w-full overflow-hidden rounded-lg text-sm has-[:focus-visible]:outline-none has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-blue-600 has-[:focus-visible]:ring-offset-1",children:[t||(0,s.jsx)("div",{className:"flex aspect-video items-center justify-center bg-gray-100",children:(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No preview available"})}),o&&(0,s.jsx)(f.TemplateStatusBadge,{status:i.publishedToCommunity,className:"absolute left-2 top-2"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-b from-[hsla(0,0%,100%,0.3)] to-[hsla(0,0%,40%,0.3)] opacity-0 transition-opacity focus-within:opacity-100 hover:opacity-100 has-[[data-pending=true]]:opacity-100",children:d})]}),(0,s.jsxs)(p.PrefetchLinkAndRefreshOnHover,{className:"flex items-center gap-3 pr-1",href:c,tabIndex:-1,children:[r,(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("div",{className:"line-clamp-1 font-medium leading-none",children:l}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-1.5 text-gray-500",children:[(0,s.jsx)(x.Z,{className:"size-3"}),(0,s.jsx)("span",{className:"text-[13px] leading-none text-gray-600",children:"".concat(n>=1e6?(n/1e6).toFixed(1).replace(/\.0$/,"")+"M":n>=1e3?(n/1e3).toFixed(1).replace(/\.0$/,"")+"K":n.toLocaleString()," Fork").concat(1===n?"":"s")})]})]})]})]})}function j(e){let{children:t}=e;return(0,s.jsx)("div",{className:"flex h-full w-full flex-col gap-6",children:t})}function v(e){let{children:t}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center py-6 sm:py-7",children:t})}var b=l(32638),C=l(65818);function y(e){let{template:t,showStatus:l,index:n,className:a}=e;return(0,s.jsx)(g,{image:t.imageUrl?(0,s.jsx)(b.TemplateImage,{index:n,src:t.imageUrl,alt:t.description||t.title,templateCanonId:t.templateCanonId}):null,title:t.title,uses:t.uses,template:t,avatar:(0,s.jsx)(C.AvatarUser,{userId:t.authorId,className:"size-9",size:"md",rounded:!0}),showStatus:l,className:a})}function k(e){let{children:t}=e;return(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"grid grid-cols-1 justify-center gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4",children:t})})}function N(e){let{children:t}=e;return(0,s.jsx)(c.Zp,{className:"flex flex-1 items-center justify-center p-4 sm:p-6",children:(0,s.jsx)(d.Sv,{children:(0,s.jsxs)(d.HY,{children:[(0,s.jsx)(d.Ft,{children:(0,s.jsx)(o.Kv,{})}),(0,s.jsx)(d.cz,{children:t})]})})})}function w(e){let{displayLimit:t,templates:l,emptyText:n,showStatus:a=!1}=e;return l.length?(0,s.jsx)(k,{children:l.map((e,l)=>(0,s.jsx)(y,{index:l,showStatus:a,template:e,className:l>=t?"hidden":""},e.templateCanonId))}):(0,s.jsx)(N,{children:n})}var M=l(26241),L=l(24595);function S(e){let{initialTemplates:t,emptyText:l,pageSize:i,showStatus:o,searchText:c,category:d}=e,{count:m,increment:u}=(0,a.I5)(1),[h,x]=(0,n.useTransition)(),[p,f]=(0,n.useState)(t),g=(0,n.useMemo)(()=>h||p.length>m*i,[m,i,h,p.length]),b=(0,n.useCallback)(()=>{u(),x(async()=>{f(await r({page:m+1,pageSize:i,searchText:c,category:d}))})},[d,u,m,i,c]),C=(0,L.k)("templatesPage");return(0,s.jsxs)(j,{children:[(0,s.jsx)(w,{displayLimit:m*i,templates:p,emptyText:l,showStatus:o}),g?(0,s.jsx)(v,{children:(0,s.jsx)(M.Q,{pending:h,onClick:b,variant:"secondary",size:"sm",children:C("loadMore")})}):null]})}},30398:(e,t,l)=>{"use strict";l.d(t,{BE:()=>h,I6:()=>p,Uz:()=>o,_s:()=>r,cp:()=>d,gk:()=>x,zj:()=>u});var s=l(27545),n=l(3906),a=l(39149),i=l(24619);let r=e=>{let{shouldScaleBackground:t=!0,...l}=e;return(0,s.jsx)(i._s.Root,{shouldScaleBackground:t,...l})};r.displayName="Drawer";let o=i._s.Trigger,c=i._s.Portal,d=i._s.Close,m=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(i._s.Overlay,{className:(0,n.cn)("bg-alpha-700 dark:bg-alpha-900 fixed inset-0 z-50",l),ref:t,...a})});m.displayName=i._s.Overlay.displayName;let u=a.forwardRef((e,t)=>{let{className:l,hideThumb:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(i._s.Content,{className:(0,n.cn)("bg-background fixed inset-x-0 bottom-0 z-50 mt-24 flex h-[96%] flex-col gap-2 rounded-t-[10px] p-2 shadow-[0_0_0_1px_hsl(var(--alpha-400))] outline-none",l),ref:t,...o,children:[!a&&(0,s.jsx)("div",{className:"bg-alpha-400 mx-auto mt-4 h-2 w-[100px] rounded-full"}),r]})]})});u.displayName="DrawerContent";let h=e=>{let{className:t,...l}=e;return(0,s.jsx)("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...l})};h.displayName="DrawerHeader";let x=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(i._s.Title,{className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",l),ref:t,...a})});x.displayName=i._s.Title.displayName;let p=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,s.jsx)(i._s.Description,{className:(0,n.cn)("text-muted-foreground text-sm",l),ref:t,...a})});p.displayName=i._s.Description.displayName},34686:(e,t,l)=>{"use strict";let s;l.d(t,{NonPaymentBanner:()=>p});var n=l(27545),a=l(10928),i=l(44041),r=l(88087);{let{Agent:e}=l(2609);s=new e({keepAlive:!0})}var o=l(91993);let c=null;new Proxy({},{get(e,t){if(!c){if(!o.env.KV_REST_API_URL||!o.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");let e=(c=(0,r.UU)({url:o.env.KV_REST_API_URL,token:o.env.KV_REST_API_TOKEN,enableAutoPipelining:!0,...s?{agent:s}:{}})).hmset;c.hmset=(async(t,l)=>{let s=Object.fromEntries(Object.entries(l).filter(e=>{let[,t]=e;return void 0!==t}));return e.call(c,t,s)}).bind(c);let t=c.hmget;c.hmget=(async function(e){for(var l=arguments.length,s=Array(l>1?l-1:0),n=1;n<l;n++)s[n-1]=arguments[n];let a=await t.call(c,e,...s),i=null==a?void 0:a.prompt;return i&&"object"==typeof i&&(a.prompt=JSON.stringify(i)),a}).bind(c);let l=c.hgetall;c.hgetall=(async e=>{let t=await l.call(c,e),s=null==t?void 0:t.prompt;return s&&"object"==typeof s&&(t.prompt=JSON.stringify(s)),t}).bind(c);let n=c.pipeline;c.pipeline=()=>new Proxy(n.call(c),{get(e,t){if("exec"===t){let t=e.exec;return async function(){return(await t.call(e)).map(e=>((null==e?void 0:e.prompt)&&"object"==typeof e.prompt&&(e.prompt=JSON.stringify(e.prompt)),e))}}return Reflect.get(e,t)}})}return Reflect.get(c,t)}});var d=l(56670),m=l.n(d),u=l(32653),h=l(65618),x=l(3906);function p(e){var t;let{className:l}=e,{user:s,activeScope:r}=(0,a.k6)(),{planInfo:o,planSlug:c}=(0,i.N)(!0,null==r?void 0:r.id),d=(null==o?void 0:o.current)&&"payment"in o.current?o.current.payment:null,p=null==d?void 0:null===(t=d.openInvoices[0])||void 0===t?void 0:t.url;return o&&p&&c&&"v0-level0"!==c&&"paid"!==d.status&&"processing"!==d.status?(0,n.jsxs)("div",{className:(0,x.cn)("border-alpha-200 relative z-10 hidden h-9 items-center justify-center gap-2 border-b bg-red-100 px-3 py-2 text-sm font-medium text-red-700 sm:flex",l),children:[(0,n.jsx)(u.V,{}),(0,n.jsxs)("div",{className:"flex items-center gap-1 ",children:["Your payment method",(0,n.jsxs)("span",{className:"hidden sm:inline",children:["for the ",h.Md[c]," plan"]})," ","failed."]}),(0,n.jsxs)(m(),{className:"text-red-900 dark:text-red-300",href:p,children:["Pay ",(0,n.jsx)("span",{className:"hidden sm:inline",children:"Open"})," Invoice"]})]}):null}},41796:()=>{},48629:(e,t,l)=>{"use strict";l.d(t,{T:()=>s});let s=(0,l(69435).G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M12.8536 8.7071C13.2441 8.31657 13.2441 7.68341 12.8536 7.29288L9.03034 3.46966L8.50001 2.93933L7.43935 3.99999L7.96968 4.53032L11.4393 7.99999L7.96968 11.4697L7.43935 12L8.50001 13.0607L9.03034 12.5303L12.8536 8.7071ZM7.85356 8.7071C8.24408 8.31657 8.24408 7.68341 7.85356 7.29288L4.03034 3.46966L3.50001 2.93933L2.43935 3.99999L2.96968 4.53032L6.43935 7.99999L2.96968 11.4697L2.43935 12L3.50001 13.0607L4.03034 12.5303L7.85356 8.7071Z" fill="currentColor"/>')},52478:(e,t,l)=>{"use strict";l.d(t,{WelcomeModal:()=>p});var s=l(27545),n=l(39149),a=l(97797),i=l(88704),r=l(79603),o=l(13524),c=l(82923),d=l(44330),m=l(6145);let u=(0,m.createServerReference)("40cbac1d6ac4d7489f05c4ef17b80ff0a28decccd2",m.callServer,void 0,m.findSourceMapURL,"cancelPremiumAfterTeamUpgrade");var h=l(70244),x=l(26241);function p(e){let{teamName:t,teamSlug:l,showDowngradeCta:o}=e,c=(0,r.useRouter)(),d=(0,r.usePathname)(),m=(0,r.useSearchParams)(),[u,h]=(0,n.useState)(!!(t||l)),x=(0,n.useCallback)(()=>{let e=new URLSearchParams(Array.from(m.entries()));for(let t of["teamSlug","teamName"])e.delete(t);let t=e.toString();c.replace("".concat(d).concat(t?"?".concat(t):""))},[d,c,m]),p=(0,n.useCallback)(()=>{x(),h(!1)},[x]);return o?(0,s.jsx)(f,{teamName:t,teamSlug:l}):(0,s.jsxs)(i.Modal,{onOpenChange:p,open:u,children:[(0,s.jsxs)(i.ModalHeader,{children:[(0,s.jsx)(i.ModalTitle,{children:"Upgrade Confirmed"}),(0,s.jsxs)(i.ModalDescription,{children:["Your Team subscription"," ",t?(0,s.jsxs)(s.Fragment,{children:["for ",(0,s.jsx)("span",{className:"font-medium",children:t})," "]}):(0,s.jsx)("span",{children:""}),(0,s.jsxs)("span",{children:["has been confirmed! You can invite additional members in your Vercel Team's settings."," "]})]})]}),(0,s.jsxs)(i.ModalFooter,{children:[(0,s.jsx)(a.$,{size:"sm",variant:"secondary",children:(0,s.jsx)("a",{target:"_blank",href:l?"https://vercel.com/".concat(l,"/~/settings/members"):"https://vercel.com",children:"Manage Members"})}),(0,s.jsx)(a.$,{size:"sm",onClick:p,variant:"default",children:"Start Building"})]})]})}function f(e){let{teamName:t,teamSlug:l}=e,m=(0,r.useRouter)(),p=(0,r.usePathname)(),f=(0,r.useSearchParams)(),[g,j]=(0,n.useState)(!!(t||l)),[v,b]=(0,n.useState)(!1),[C,y]=(0,n.useState)(!1),[k,N]=(0,n.useTransition)(),w=(0,n.useCallback)(()=>{let e=new URLSearchParams(Array.from(f.entries()));for(let t of["teamSlug","teamName","cta"])e.delete(t);let t=e.toString();m.replace("".concat(p).concat(t?"?".concat(t):""))},[p,m,f]),M=(0,n.useCallback)(()=>{w(),j(!1)},[w]),L=(0,n.useCallback)(()=>{b(!1)},[]),S=(0,n.useCallback)(()=>{k||N(async()=>{if("error"in await u(l)){h.oR.error("Failed to cancel Premium plan. Please try again or reach out to Customer Support to cancel your Premium plan.");return}y(!0),L()})},[k,L,l]);return v?(0,s.jsxs)(i.Modal,{onOpenChange:M,open:g,children:[(0,s.jsxs)(i.ModalHeader,{children:[(0,s.jsx)(i.ModalTitle,{children:"Cancel your Premium Plan"}),(0,s.jsxs)(i.ModalDescription,{children:["We have successfully created a new Team plan",t?(0,s.jsxs)(s.Fragment,{children:[" ","for ",(0,s.jsx)("span",{className:"font-medium",children:t}),"."]}):(0,s.jsx)("span",{children:"."})," ",(0,s.jsx)("span",{children:"Would you like to cancel your active personal Premium plan? We will apply a credit for the remaining time on your Premium billing period towards your new Team plan."})]})]}),(0,s.jsxs)(i.ModalFooter,{children:[(0,s.jsx)(a.$,{size:"sm",variant:"secondary",onClick:L,children:"Keep Both Plans"}),(0,s.jsx)(x.Q,{size:"sm",onClick:S,pending:k,children:"Cancel Premium"})]})]}):(0,s.jsxs)(i.Modal,{onOpenChange:M,open:g,children:[(0,s.jsxs)(i.ModalHeader,{children:[(0,s.jsx)(i.ModalTitle,{children:"Team Plan Confirmed"}),(0,s.jsxs)(i.ModalDescription,{children:["Your Team subscription"," ",t?(0,s.jsxs)(s.Fragment,{children:["for ",(0,s.jsx)("span",{className:"font-medium",children:t})," "]}):(0,s.jsx)("span",{children:""}),(0,s.jsx)("span",{children:"has been confirmed!"})]})]}),(0,s.jsxs)(i.ModalContent,{className:"flex flex-col gap-3",children:[(0,s.jsx)(a.$,{className:"h-fit p-0 text-left",variant:"secondary",children:(0,s.jsxs)("a",{className:"flex w-full items-center justify-between gap-3 p-3 pr-[14px] text-gray-500",target:"_blank",href:l?"https://vercel.com/".concat(l,"/~/settings/members"):"https://vercel.com",children:[(0,s.jsxs)("div",{className:"flex h-fit flex-col text-sm",children:[(0,s.jsx)("b",{className:"font-medium text-gray-900",children:"Manage Members"}),(0,s.jsx)("p",{className:"font-normal",children:"Add more members to your team on Vercel."})]}),(0,s.jsx)(d.i,{})]})}),(0,s.jsxs)(a.$,{className:"flex h-fit w-full items-center justify-between gap-3 p-3 pr-[14px] text-left text-gray-500",variant:"secondary",onClick:()=>b(!0),disabled:C,children:[(0,s.jsxs)("div",{className:"flex h-fit flex-col text-sm",children:[(0,s.jsx)("b",{className:"font-medium text-gray-900",children:C?"Premium Cancelled":"Cancel Premium Plan"}),(0,s.jsx)("p",{className:"font-normal",children:C?"Your Premium plan was canceled.":"Would you like to cancel your existing Premium plan?"})]}),C?(0,s.jsx)(o.a,{}):(0,s.jsx)(c.c,{})]})]}),(0,s.jsx)(i.ModalFooter,{children:(0,s.jsx)(a.$,{size:"sm",onClick:M,variant:"default",children:"Start Building"})})]})}},63712:e=>{e.exports={vPath:"animations_vPath__Hi2pJ",followpath:"animations_followpath__jlvxj","pulse-fade":"animations_pulse-fade__nTcZn",oPath:"animations_oPath__Rvk9R",dashed:"animations_dashed__McJPI"}},64162:(e,t,l)=>{"use strict";l.d(t,{FullChatOuter:()=>tA});var s=l(27545),n=l(89657),a=l(32092),i=l(91572),r=l(70430),o=l(70244),c=l(39149);let d=(0,c.createContext)(null);function m(e){let{hasSignedIn:t,children:l}=e;return(0,s.jsx)(d.Provider,{value:t,children:l})}var u=l(79603),h=l(94897),x=l(78325),p=l(2274),f=l(3906),g=l(65618),j=l(4432),v=l(53575),b=l(10741),C=l(75838),y=l(9300),k=l(76201),N=l(62787),w=l(97797),M=l(27845),L=l(44330),S=l(56670),I=l.n(S),H=l(24595),A=l(82619),z=l(85422),P=l(7329),V=l(30398),_=l(63564);function T(e){let{className:t,...l}=e,n=(0,H.k)("footer"),{locale:a}=(0,A.useLocale)(),{expectUser:i}=(0,C.J)(),[r,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let e=(0,_.C)();!i&&e&&o(!0)},[i]);let d=(0,c.useMemo)(()=>[{href:"/pricing",title:n("pricing")},{href:"/enterprise",title:n("enterprise")},{href:"/faq",title:n("faq")},{key:"legal",title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(V._s,{children:[(0,s.jsx)(V.Uz,{className:"block sm:hidden",children:n("legal")}),(0,s.jsxs)(V.zj,{className:"flex h-fit flex-col gap-2",children:[(0,s.jsx)(w.$,{asChild:!0,variant:"ghost",className:"mt-2 w-full",children:(0,s.jsx)(I(),{href:"/policy",children:n("policy")})}),(0,s.jsx)(w.$,{asChild:!0,variant:"ghost",className:"mb-2 w-full",children:(0,s.jsx)(I(),{href:"/agreement",children:n("agreement")})})]})]}),(0,s.jsxs)(z.DropdownMenu,{children:[(0,s.jsx)(P.ty,{className:"hidden sm:block",children:n("legal")}),(0,s.jsxs)(z.DropdownMenuContent,{sideOffset:8,className:"min-w-20 rounded-md p-1",children:[(0,s.jsx)(z.DropdownMenuItem,{className:"h-6 rounded-[2px] text-xs",asChild:!0,children:(0,s.jsx)(I(),{href:"/policy",children:(0,s.jsx)("span",{children:n("policy")})})}),(0,s.jsx)(z.DropdownMenuItem,{className:"h-6 rounded-[2px] text-xs",asChild:!0,children:(0,s.jsx)(I(),{href:"/agreement",children:(0,s.jsx)("span",{children:n("agreement")})})})]})]})]})},{href:"https://vercel.com/legal/privacy-policy",title:n("privacy")},{href:"https://discord.gg/4ECCp2V5y9",title:n("discord"),hiddenOnMobile:!0},{href:"https://vercel.com/?utm_source=v0-site&utm_medium=banner&utm_campaign=home",title:(0,s.jsxs)(s.Fragment,{children:["Vercel",(0,s.jsx)("span",{className:"ja"===a?"hidden md:inline":"",children:(0,s.jsx)(L.i,{className:"size-[10px]"})})]})}],[a,n]);return(0,s.jsxs)("footer",{className:(0,f.cn)({"text-xs":"ja"!==a,"text-[11px] tracking-tighter md:text-xs md:tracking-normal":"ja"===a},t,"flex flex-col items-center gap-2"),...l,children:[(0,s.jsxs)("div",{"aria-hidden":!r,className:(0,f.cn)(r?"opacity-100":"opacity-0","text-gray-600 transition-opacity"),children:["By messaging v0, you agree to our"," ",(0,s.jsx)(I(),{className:"underline underline-offset-2",href:"/agreement",children:n("agreement")})," ","and"," ",(0,s.jsx)(I(),{className:"underline underline-offset-2",href:"/policy",children:n("policy")}),"."]}),(0,s.jsx)("nav",{className:"flex h-4 divide-x",children:d.map(e=>{let t=e.href,l=t&&!e.href.startsWith("/"),n=(0,f.cn)("flex items-center gap-1 text-gray-600 transition-colors hover:text-gray-900",{"px-2":"ja"!==a,"px-1 md:px-2":"ja"===a},e.hidden&&"hidden",e.hiddenOnMobile&&"hidden sm:flex");if(!t)return(0,s.jsx)("div",{className:n,children:e.title},e.key);let i=l?"a":I();return(0,s.jsx)(i,{className:n,href:e.href,target:l?"_blank":void 0,children:e.title},e.href)})})]})}var F=l(97945),D=l(2731),R=l(3083),Z=l(4312),O=l(82325),B=l(63712),U=l.n(B);function E(e){let{className:t}=e;return(0,s.jsxs)("svg",{"aria-hidden":"true",className:t,fill:"none",height:"610",viewBox:"0 0 1283 610",width:"1283",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("radialGradient",{id:"pulseGradient",children:[(0,s.jsx)("stop",{offset:"10%",stopColor:"#58F0D4"}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#58F0D400"})]}),(0,s.jsxs)("linearGradient",{gradientTransform:"rotate(90)",id:"fadeGradient",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#888888"}),(0,s.jsx)("stop",{offset:"50%",stopColor:"white"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#888888"})]}),(0,s.jsx)("mask",{id:"vignette",children:(0,s.jsx)("rect",{fill:"url('#fadeGradient')",height:"610",width:"1283",x:"0",y:"0"})}),(0,s.jsx)("mask",{id:"v-clip",children:(0,s.jsx)("path",{className:U()["pulse-fade"],d:"M184.5 114.5H2C154.667 262.5 458 556.385 494 591C530 625.615 612.5 613 612.5 541.5V114.5H485.5V406L184.5 114.5Z",stroke:"white",vectorEffect:"non-scaling-stroke"})}),(0,s.jsx)("mask",{id:"o-clip",children:(0,s.jsx)("path",{className:U()["pulse-fade"],d:"M653.5 114.5H1075L774 410V1C774 1 954.5 1 1075 1C1195.5 1 1282 114.5 1282 207C1282 299.5 1282 495.5 1282 495.5H868.5L1162 207V609.5C1162 609.5 998 609.5 868.5 609.5C739 609.5 653.5 487 653.5 410C653.5 333 653.5 114.5 653.5 114.5Z",stroke:"white",vectorEffect:"non-scaling-stroke"})})]}),(0,s.jsxs)("g",{mask:"url(#vignette)",children:[(0,s.jsx)("g",{mask:"url(#v-clip)",children:(0,s.jsx)("circle",{className:U().vPath,fill:"url('#pulseGradient')",r:"100"})}),(0,s.jsx)("g",{mask:"url(#o-clip)",children:(0,s.jsx)("circle",{className:U().oPath,fill:"url('#pulseGradient')",r:"100"})}),(0,s.jsx)("path",{className:U().dashed,d:"M184.5 114.5H2C154.667 262.5 458 556.385 494 591C530 625.615 612.5 613 612.5 541.5V114.5H485.5V406L184.5 114.5Z",vectorEffect:"non-scaling-stroke"}),(0,s.jsx)("path",{className:U().dashed,d:"M653.5 114.5H1075L774 410V1C774 1 954.5 1 1075 1C1195.5 1 1282 114.5 1282 207C1282 299.5 1282 495.5 1282 495.5H868.5L1162 207V609.5C1162 609.5 998 609.5 868.5 609.5C739 609.5 653.5 487 653.5 410C653.5 333 653.5 114.5 653.5 114.5Z",vectorEffect:"non-scaling-stroke"})]})]})}var $=l(28492),G=l(48891),K=l(41664);function J(e){let{isMobile:t,onSubmit:l,...n}=e,a=(0,H.k)("emptyScreen"),{expectUser:i}=(0,C.J)(),{isEmpty:r}=(0,O.tZ)(),{setShowSignInDialog:o}=(0,y.AO)(),{submit:d,stopLlmResponse:m}=(0,k.yI)({onSubmit:l}),[u]=(0,G.d)(),h=!!((null==u?void 0:u.remaining)!==void 0&&u.remaining<=0),x=(0,_.C)(),p=(0,c.useCallback)(e=>{o({prompt:"new"===e.action&&e.input||""})},[o]);return(0,s.jsxs)("div",{className:"absolute inset-0 flex select-none items-center justify-center overflow-hidden sm:p-4",...n,children:[(0,s.jsx)("div",{className:"absolute inset-0 left-1/2 z-0 flex size-full max-w-screen-2xl -translate-x-1/2 items-center justify-center",children:(0,s.jsx)(E,{className:"pointer-events-none -translate-y-32 p-2 md:translate-y-0"})}),(0,s.jsx)(R.default,{}),(0,s.jsxs)("div",{className:"absolute top-1/2 z-10 flex min-h-[285px] w-full max-w-[49rem] -translate-y-1/2 flex-col items-stretch justify-start px-6 sm:min-h-[270px]",children:[(0,s.jsx)("div",{className:"mb-6 flex flex-col items-center gap-6",children:(0,s.jsx)("h1",{"data-testid":"app-title",className:"font-heading text-pretty text-center text-[29px] font-semibold tracking-tighter text-gray-900 sm:text-[32px] md:text-[46px]",children:a("title")})}),(0,s.jsx)(Z.BW,{className:"relative",isMobile:t,isNewChat:r,isHome:!0,isSignedIn:i,isAnonymous:!!(!i&&x),scrollDownButton:null,stop:m,submit:i||x&&!h?d:p}),(0,s.jsx)("div",{className:"flex h-20 min-h-0 shrink-0 items-center justify-center sm:h-16",children:(0,s.jsx)(c.Suspense,{children:(0,s.jsx)(q,{show:!0})})})]}),(0,s.jsx)(T,{className:"absolute bottom-4"})]})}function q(e){let{show:t}=e,l=(0,H.k)("emptyScreen"),n=(0,K.Ay)("suggestions").data||[];return(0,s.jsx)(F.N,{mode:"wait",children:t&&n.length?(0,s.jsxs)(D.P.div,{animate:{opacity:1},className:"flex flex-wrap justify-center gap-3",exit:{opacity:0},initial:!1,children:[(0,s.jsx)("h2",{className:"sr-only",children:l("suggestedChatMessages")}),n.map(e=>(0,s.jsx)(W,{suggestion:e},e))]},"suggestions"):null})}function W(e){let{suggestion:t}=e,{submit:l}=(0,k.yI)(),{user:n}=(0,C.J)(),{setShowSignInDialog:a}=(0,y.AO)(),{selectedProjectId:i}=(0,$._t)(),[r]=(0,G.d)(),o=(null==r?void 0:r.remaining)===0,c=(0,H.k)("suggestions"),d=(0,_.C)();return o?null:(0,s.jsxs)(w.$,{className:"bg-muted gap-0.5 has-[>svg]:pl-1.5",onClick:async()=>{if(!n&&!d){a({prompt:c("".concat(t,".prompt"))});return}(0,N.u)("SubmitNewUserMessage",{text:c("".concat(t,".prompt")),imageOnly:!1,index:0,projectId:i,anonId:d}),await l({action:"new",input:c("".concat(t,".prompt"))})},rounded:!0,size:"xs",variant:"secondary",children:[(0,s.jsx)("span",{className:"block md:hidden",children:c("".concat(t,".shortText"))}),(0,s.jsx)("span",{className:"hidden md:block",children:c("".concat(t,".longText"))}),(0,s.jsx)(M.m,{})]})}var Y=l(49168),X=l(45629),Q=l(10289),ee=l(11043);function et(){let{remote:e}=(0,O.tZ)(),{chatId:t}=(0,X.xz)(),{data:l}=(0,K.Ay)(e?"/chat/api/chat/remote/heartbeat?cid="+t:null,e=>fetch(e).then(e=>e.text()),{refreshInterval:5e3,fallbackData:"OK"});return e?"OK"!==l?(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 pb-8 pt-12 mx-auto z-20 bg-gradient-to-b from-transparent to-white/50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-yellow-300 text-yellow-800 shadow max-w-3xl",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2 select-none",children:[(0,s.jsx)(ee.o,{}),"Local v0 dev server disconnected"]}),(0,s.jsxs)("p",{className:"text-sm mt-2",children:[(0,s.jsx)("span",{className:"select-none",children:"This chat requires your local v0 dev server running. Please run this command in your repository to reconnect:"}),(0,s.jsxs)("code",{className:"block mt-2 bg-zinc-50/40 px-2 py-1.5 rounded-md text-sm",children:["v0-dev --chat=",t]})]})]})}):l?null:(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 pb-8 pt-12 mx-auto z-20 bg-gradient-to-b from-transparent to-white/50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"p-4 rounded-lg bg-gray-150 text-gray-800 max-w-3xl",children:(0,s.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2 select-none",children:[(0,s.jsx)(Q.y,{className:"w-4 h-4"}),"Connecting to local v0 dev server..."]})})}):null}var el=l(95720),es=l(1075),en=l(16463),ea=l(69435);let ei=(0,ea.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M13 1.5H3V4H13V1.5ZM3 13.5V5.25H13V13.5C13 14.0523 12.5523 14.5 12 14.5H4C3.44772 14.5 3 14.0523 3 13.5ZM3 0H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5V1.5V0H13H3ZM5.25 8C5.66421 8 6 7.66421 6 7.25C6 6.83579 5.66421 6.5 5.25 6.5C4.83579 6.5 4.5 6.83579 4.5 7.25C4.5 7.66421 4.83579 8 5.25 8ZM5.25 10.5C5.66421 10.5 6 10.1642 6 9.75C6 9.33579 5.66421 9 5.25 9C4.83579 9 4.5 9.33579 4.5 9.75C4.5 10.1642 4.83579 10.5 5.25 10.5ZM6 12.5C6 12.9142 5.66421 13.25 5.25 13.25C4.83579 13.25 4.5 12.9142 4.5 12.5C4.5 12.0858 4.83579 11.75 5.25 11.75C5.66421 11.75 6 12.0858 6 12.5ZM8 8C8.41421 8 8.75 7.66421 8.75 7.25C8.75 6.83579 8.41421 6.5 8 6.5C7.58579 6.5 7.25 6.83579 7.25 7.25C7.25 7.66421 7.58579 8 8 8ZM8.75 9.75C8.75 10.1642 8.41421 10.5 8 10.5C7.58579 10.5 7.25 10.1642 7.25 9.75C7.25 9.33579 7.58579 9 8 9C8.41421 9 8.75 9.33579 8.75 9.75ZM8 13.25C8.41421 13.25 8.75 12.9142 8.75 12.5C8.75 12.0858 8.41421 11.75 8 11.75C7.58579 11.75 7.25 12.0858 7.25 12.5C7.25 12.9142 7.58579 13.25 8 13.25ZM11.5 7.25C11.5 7.66421 11.1642 8 10.75 8C10.3358 8 10 7.66421 10 7.25C10 6.83579 10.3358 6.5 10.75 6.5C11.1642 6.5 11.5 6.83579 11.5 7.25ZM10.75 10.5C11.1642 10.5 11.5 10.1642 11.5 9.75C11.5 9.33579 11.1642 9 10.75 9C10.3358 9 10 9.33579 10 9.75C10 10.1642 10.3358 10.5 10.75 10.5ZM11.5 12.5C11.5 12.9142 11.1642 13.25 10.75 13.25C10.3358 13.25 10 12.9142 10 12.5C10 12.0858 10.3358 11.75 10.75 11.75C11.1642 11.75 11.5 12.0858 11.5 12.5Z" fill="currentColor"/>'),er=(0,ea.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 3.5H3.5L5 1H11L12.5 3.5H14.5H16V5V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V5V3.5H1.5ZM4.78624 4.27174L5.84929 2.5H10.1507L11.2138 4.27174L11.6507 5H12.5H14.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H2.5C1.94772 13.5 1.5 13.0523 1.5 12.5V5H3.5H4.34929L4.78624 4.27174ZM9.75 8.5C9.75 9.4665 8.9665 10.25 8 10.25C7.0335 10.25 6.25 9.4665 6.25 8.5C6.25 7.5335 7.0335 6.75 8 6.75C8.9665 6.75 9.75 7.5335 9.75 8.5ZM11.25 8.5C11.25 10.2949 9.79493 11.75 8 11.75C6.20507 11.75 4.75 10.2949 4.75 8.5C4.75 6.70507 6.20507 5.25 8 5.25C9.79493 5.25 11.25 6.70507 11.25 8.5Z" fill="currentColor"/>'),eo=(0,ea.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M4.47471 5.7366L8 2.14221L11.5253 5.73661C13.4916 7.74143 13.4916 11.0037 11.5253 13.0086C9.57493 14.9971 6.42507 14.9971 4.47471 13.0086C2.50843 11.0037 2.50843 7.74143 4.47471 5.7366ZM3.40381 4.68629L6.94949 1.07111L8 0L9.05051 1.07111L12.5962 4.68629C15.1346 7.27446 15.1346 11.4707 12.5962 14.0589C10.0578 16.647 5.94221 16.647 3.40381 14.0589C0.865397 11.4707 0.865399 7.27446 3.40381 4.68629ZM11.25 9.5V8.75H9.75V9.5C9.75 10.4665 8.9665 11.25 8 11.25H7.25V12.75H8C9.79493 12.75 11.25 11.2949 11.25 9.5Z" fill="currentColor"/>');var ec=l(48233);let ed=(0,ea.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 2.5H1.5V5.005H14.5V2.5ZM14.5 6.255H6.245V13.5H13.5C14.0523 13.5 14.5 13.0523 14.5 12.5V6.255ZM4.995 6.255H1.5V12.5C1.5 13.0523 1.94772 13.5 2.5 13.5H4.995V6.255ZM1.5 1H0V2.5V12.5C0 13.8807 1.11929 15 2.5 15H13.5C14.8807 15 16 13.8807 16 12.5V2.5V1H14.5H1.5Z" fill="currentColor"/>'),em=[{prompt:"Please recreate the UI shown in the attached screenshot as accurately as possible.",title:"cloneScreenshot",icon:(0,s.jsx)(er,{className:"size-[14px]"})},{prompt:"Please recreate the UI shown in the attached Figma frame as accurately as possible.",title:"importFromFigma",icon:(0,s.jsx)(function(e){let{className:t}=e;return(0,s.jsx)("svg",{width:"16",height:"18",viewBox:"0 0 16 18",className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 4.15129C2.25 5.1233 2.6869 5.99327 3.37503 6.57554C2.6869 7.1578 2.25 8.02777 2.25 8.99978C2.25 9.97179 2.6869 10.8418 3.37503 11.424C2.6869 12.0063 2.25 12.8763 2.25 13.8483C2.25 15.6013 3.67116 17.0225 5.42424 17.0225H5.5C7.29493 17.0225 8.75 15.5674 8.75 13.7725V12.174V11.6971C9.23602 11.9994 9.80974 12.174 10.4242 12.174H10.5758C12.3288 12.174 13.75 10.7529 13.75 8.99978C13.75 8.02777 13.3131 7.1578 12.625 6.57554C13.3131 5.99327 13.75 5.1233 13.75 4.15129C13.75 2.39821 12.3288 0.977051 10.5758 0.977051H8.75H8H7.25H5.42424C3.67116 0.977051 2.25 2.39821 2.25 4.15129ZM10.5758 5.82554C11.5004 5.82554 12.25 5.07595 12.25 4.15129C12.25 3.22663 11.5004 2.47705 10.5758 2.47705H8.75V5.82554H10.4242H10.5758ZM7.25 8.99978V7.32554H5.42424C4.49958 7.32554 3.75 8.07512 3.75 8.99978C3.75 9.92444 4.49958 10.674 5.42424 10.674H7.25V8.99978ZM8.75 8.99978C8.75 9.92444 9.49958 10.674 10.4242 10.674H10.5758C11.5004 10.674 12.25 9.92444 12.25 8.99978C12.25 8.07512 11.5004 7.32554 10.5758 7.32554H10.4242C9.49958 7.32554 8.75 8.07512 8.75 8.99978ZM5.42424 12.174L7.25 12.174V13.7725C7.25 14.739 6.4665 15.5225 5.5 15.5225H5.42424C4.49958 15.5225 3.75 14.7729 3.75 13.8483C3.75 12.9236 4.49958 12.174 5.42424 12.174ZM7.25 5.82554H5.42424C4.49958 5.82554 3.75 5.07595 3.75 4.15129C3.75 3.22663 4.49958 2.47705 5.42424 2.47705H7.25V5.82554Z",fill:"currentColor"})})},{className:"size-[14px]"})},{prompt:"Please upload a project.",title:"uploadProject",icon:(0,s.jsx)(ec.g,{className:"size-[14px]"})},{prompt:"Create a modern, responsive landing page for a fictional SaaS company. The landing page should include the following sections:\n\n- A header with the company logo, navigation links, and a call-to-action button.\n- A hero section with a catchy headline, brief description, and a prominent call-to-action.\n- A features section highlighting 3-4 key features of StreamLine.\n- A testimonials section with quotes from satisfied customers.\n- A pricing section with different plan options.\n- A final call-to-action section to encourage sign-ups.\n- A footer with important links and social media icons.",title:"landingPage",icon:(0,s.jsx)(ed,{className:"size-[14px]"})},{prompt:'Create a modern, minimalist newsletter signup form for a fictional brand.\n\nThe signup form should include the following elements:\n\n- A centered card with subtle shadow and rounded corners.\n- A white card on a subtle purple gradient backdrop for a clean, modern look.\n- A logo or brand mark displayed at the top.\n- A welcoming headline, e.g., "Subscribe to My Newsletter," and a brief subheading explaining the value proposition.\n- Social sign-up options with recognizable icons.\n- An email input field and a prominent call-to-action button (e.g., purple or indigo).\n- Additional links below the form for terms, privacy, or help.\nA footer with trust indicators, such as "We respect your privacy."',title:"signUpForm",icon:(0,s.jsx)(eo,{className:"size-[14px]"})},{prompt:"Implement a function to calculate the factorial of a given number using recursion.",title:"calculateFactorial",icon:(0,s.jsx)(ei,{className:"size-[14px]"})}];var eu=l(73960);function eh(e){let{isMobile:t,onSubmit:l,children:n,...a}=e,i=(0,H.k)("emptyScreen"),{expectUser:r}=(0,C.J)(),{isEmpty:o}=(0,O.tZ)(),{setShowSignInDialog:d}=(0,y.AO)(),{submit:m,stopLlmResponse:u}=(0,k.yI)({onSubmit:l}),[h]=(0,G.d)(),x=!!((null==h?void 0:h.remaining)!==void 0&&h.remaining<=0),p=(0,_.C)(),[f,g]=(0,c.useState)(!1),j=(0,c.useCallback)(e=>{d({prompt:"new"===e.action&&e.input||""})},[d]);return(0,s.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-8",...a,children:[(0,s.jsx)(R.default,{}),(0,s.jsxs)("div",{className:"z-0 flex w-full flex-1 flex-col gap-24 overflow-auto px-6",children:[(0,s.jsxs)("div",{className:"mx-auto flex w-full flex-col gap-4 pt-32 lg:pt-48",children:[(0,s.jsx)("h1",{"data-testid":"app-title",className:"font-heading text-pretty text-center text-[29px] font-semibold tracking-tighter text-gray-900 sm:text-[32px] md:text-[46px]",children:i("title")}),(0,s.jsx)(Z.BW,{className:"relative mx-auto w-full max-w-[49rem]",isMobile:t,isNewChat:o,isHome:!0,isSignedIn:r,isAnonymous:!!(!r&&p),scrollDownButton:null,stop:u,submit:r||p&&!x?m:j,isTemplateLoading:f}),(0,s.jsx)("div",{className:"flex min-h-0 shrink-0 items-center justify-center",children:(0,s.jsx)(ex,{show:!0,setIsTemplateLoading:g,isMobile:t})})]}),(0,s.jsx)("div",{className:"mx-auto flex w-full max-w-[1264px] flex-1 flex-col gap-4",children:n}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(T,{})})]})]})}function ex(e){let{show:t,setIsTemplateLoading:l,isMobile:n}=e,a=(0,H.k)("emptyScreen"),[i,r]=(0,c.useState)(!1),{expectUser:o}=(0,C.J)();(0,c.useEffect)(()=>{l(i)},[i,l]);let d=(0,c.useMemo)(()=>!n&&o?em:em.filter(e=>"uploadProject"!==e.title),[n,o]);return(0,s.jsx)(F.N,{mode:"wait",children:t&&d.length?(0,s.jsxs)(D.P.div,{animate:{opacity:1},className:"flex max-w-[1000px] flex-wrap justify-center gap-3",exit:{opacity:0},initial:!1,role:"list",children:[(0,s.jsx)("h2",{className:"sr-only",children:a("suggestedChatMessages")}),(0,s.jsx)(ep,{suggestion:d[0],isAnyLoading:i,setIsAnyLoading:r,setIsTemplateLoading:l}),(0,s.jsx)(ep,{suggestion:d[1],isAnyLoading:i,setIsAnyLoading:r,setIsTemplateLoading:l}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(ep,{suggestion:d[2],isAnyLoading:i,setIsAnyLoading:r,setIsTemplateLoading:l})}),(0,s.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(ep,{suggestion:d[2],isAnyLoading:i,setIsAnyLoading:r,setIsTemplateLoading:l})}),(0,s.jsx)(ep,{suggestion:d[3],isAnyLoading:i,setIsAnyLoading:r,setIsTemplateLoading:l}),(0,s.jsx)("div",{className:"hidden sm:block",children:(0,s.jsx)(ep,{suggestion:d[4],isAnyLoading:i,setIsAnyLoading:r,setIsTemplateLoading:l})})]})]},"suggestions"):null})}function ep(e){let{suggestion:t,isAnyLoading:l,setIsAnyLoading:n,setIsTemplateLoading:a}=e,i=(0,H.k)("emptyScreen"),{submit:r}=(0,k.yI)(),{user:o}=(0,C.J)(),{setShowSignInDialog:d}=(0,y.AO)(),{setUpgradePromptOpen:m}=(0,h.g)(),{selectedProjectId:u}=(0,$._t)(),[x]=(0,G.d)(),p=(null==x?void 0:x.remaining)===0,f=(0,c.useMemo)(()=>(0,_.C)(),[]),g=c.useRef(null),{setImportFigmaModalOpen:j}=(0,el.C)(),{handleFigmaUrl:v,isFigmaUrl:b,getNodeContext:M}=(0,es.q)(g),[L,S]=(0,c.useState)(!1),I=(0,c.useRef)(),{setShowZipModal:A}=(0,eu.A)(),{uploading:z,onInputChange:P,uploadFiles:V}=(0,en.Ay)({isSignedIn:!!o,onFinish:()=>{S(!1),n(!1),a(!1)},onUploadStart:()=>{S(!0),n(!0),a(!0)},onSuccess:async e=>{(0,N.u)("SubmitNewUserMessage",{text:t.prompt,imageOnly:!1,index:0,projectId:u,anonId:f,suggestion:t.title}),await r({action:"new",input:t.prompt,attachments:e,figmaContext:I.current})},disableDrag:!0,disablePaste:!0}),T=(0,c.useCallback)(async e=>{if(!b(e))return;let[t,l]=await Promise.all([v(e),M(e)]);if(!t.success)return;let s=l.nodes.colors.map(e=>"".concat(e.hex,")")).join(", ")||"",n=l.nodes.designTokens.map(e=>"".concat(e.hex,")")).join(", ")||"";I.current=[s&&"Colors: ".concat(s),n&&"Design tokens: ".concat(n)].filter(Boolean).join(", ");let{base64:a,originalUrl:i,fileName:r}=t.data,o=r.replace(/[^a-zA-Z0-9.]/g,"_"),c=a.split(",")[1],d=window.atob(c),m=new Uint8Array(d.length);for(let e=0;e<d.length;e++)m[e]=d.charCodeAt(e);let u=new File([new Blob([m],{type:"image/png"})],"".concat(o,".png"),{type:"image/png"});u.isFigmaFile=!0,u.figmaUrl=i,u.v0Type="figma",await V([u])},[b,v,M,V]),F=async()=>{if(!o&&!f){d({prompt:t.prompt});return}if(p){if(f){d({prompt:!1,customMessage:"To continue using the chat, create a Vercel account or log into an existing one."});return}m(!0);return}if("cloneScreenshot"===t.title){var e;if(!o){d({prompt:!1,customMessage:"To upload screenshots to your chat, create a Vercel account or log into an existing one."});return}null===(e=g.current)||void 0===e||e.click();return}if("importFromFigma"===t.title){if(!o){d({prompt:!1,customMessage:"To import from Figma, create a Vercel account or log into an existing one."});return}(0,N.u)("FigmaModalOpen",{source:"url"}),j({open:!0,onImport:T});return}if("uploadProject"===t.title){if(!o){d({prompt:!1,customMessage:"To upload a project, create a Vercel account or log into an existing one."});return}A(!0);return}(0,N.u)("SubmitNewUserMessage",{text:t.prompt,imageOnly:!1,index:0,projectId:u,anonId:f,suggestion:t.title}),await r({action:"new",input:t.prompt})},[D,R]=(0,c.useState)({x:0,y:0}),[Z,O]=(0,c.useState)(!1),B=(0,c.useCallback)(e=>{let t=e.currentTarget.getBoundingClientRect();R({x:(e.clientX-t.left)/t.width*100,y:(e.clientY-t.top)/t.height*100})},[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-[-1px] rounded-full",style:{opacity:+!!Z,background:"transparent",transition:"opacity 0.15s ease"},children:(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border border-[rgba(68,225,211,0.9)] dark:border-[rgba(68,225,211,0.5)]",style:{background:"transparent",clipPath:"inset(0px round 9999px)",maskImage:"radial-gradient(circle at var(--mouse-x) var(--mouse-y), black, transparent 100%)",WebkitMaskImage:"radial-gradient(circle at var(--mouse-x) var(--mouse-y), black, transparent 100%)","--mouse-x":"".concat(D.x,"%"),"--mouse-y":"".concat(D.y,"%")}})}),(0,s.jsxs)(w.$,{variant:"secondary",size:"sm",onClick:F,onMouseMove:B,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),className:"border-none text-[13px] text-gray-600 shadow-sm hover:text-gray-900",disabled:L||z||l,"aria-label":i("suggestions.".concat(t.title)),rounded:!0,children:[(0,s.jsx)("span",{className:L||z||l?"text-gray-500":"text-gray-600",children:(L||z)&&("cloneScreenshot"===t.title||"importFromFigma"===t.title)?(0,s.jsx)(Q.y,{size:14}):t.icon}),i("suggestions.".concat(t.title))]})]}),(0,s.jsx)("input",{ref:g,type:"file",accept:"image/*",className:"sr-only",onChange:e=>{P(e)},disabled:L||z||l,tabIndex:-1,"aria-hidden":"true"})]})}function ef(e){let{title:t}=e;return"string"==typeof t&&t.length>0?(0,s.jsx)("title",{children:"".concat(t," - v0 by Vercel")}):null}function eg(e){let{isMobile:t,isAuthor:l,templates:n}=e,{isEmpty:a,title:i}=(0,O.tZ)(),[r,o]=(0,c.useState)(!1),d=(0,c.useCallback)(()=>{o(!0),setTimeout(()=>o(!1),1e3)},[]);return a&&n?(0,s.jsx)(eh,{isMobile:t,onSubmit:d,children:n}):a?(0,s.jsx)(J,{isMobile:t,onSubmit:d}):(0,s.jsxs)("div",{className:(0,v.A)("relative flex h-full min-w-0 flex-1 flex-col",!l&&"[&_.author-action]:hidden"),"data-testid":"full-chat",children:[(0,s.jsx)(ef,{title:i}),(0,s.jsx)(b.e,{isAuthor:l}),(0,s.jsx)(Y.o,{animateUser:r,isMobile:t,onSubmit:d}),(0,s.jsx)(et,{})]})}var ej=l(87240),ev=l(48629);let eb=(0,ea.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.80808 4.44191L2.25003 4.88386L3.13391 3.99997L2.69196 3.55803L1.63391 2.49997L2.69197 1.44191L3.13391 0.999972L2.25003 0.116089L1.80808 0.558031L0.484858 1.88126C0.143149 2.22296 0.143149 2.77698 0.484859 3.11869L1.80808 4.44191ZM12 0.999972H11.25V2.49997H12H13.5V11.75C13.5 12.7165 12.7165 13.5 11.75 13.5H4.25002C3.28353 13.5 2.50003 12.7165 2.50003 11.75V6.99997V6.24997H1.00003V6.99997V11.75C1.00003 13.5449 2.4551 15 4.25002 15H11.75C13.545 15 15 13.5449 15 11.75V1.74997V0.999972H14.25H12ZM7.75003 4.88386L8.19197 4.44191L9.51519 3.11869C9.8569 2.77698 9.8569 2.22296 9.51519 1.88126L8.19196 0.55803L7.75002 0.116089L6.86614 0.999973L7.30808 1.44191L8.36614 2.49997L7.30809 3.55803L6.86615 3.99997L7.75003 4.88386ZM4.13155 3.89688L4.02847 4.51535L5.26541 4.7215L5.36848 4.10303L5.86848 1.10303L5.97156 0.484566L4.73462 0.278409L4.63155 0.896878L4.13155 3.89688Z" fill="currentColor"/>');var eC=l(57554),ey=l(39167);let ek=(0,ea.G)('<path d="M7.99102 15.8942C12.3558 15.8942 15.8941 12.3558 15.8941 7.99104C15.8941 3.62626 12.3558 0.0879135 7.99102 0.0879135C3.62624 0.0879135 0.0878906 3.62626 0.0878906 7.99104C0.0878906 12.3558 3.62624 15.8942 7.99102 15.8942Z" fill="#FF4500"/>\n  <path d="M13.2618 7.99104C13.2382 7.35457 12.7038 6.85755 12.0654 6.87916C11.7825 6.88899 11.5134 7.0049 11.3092 7.19932C10.4094 6.58639 9.35253 6.25042 8.26611 6.22689L8.77876 3.76146L10.4702 4.1171C10.5173 4.55125 10.9063 4.86562 11.3404 4.81837C11.7746 4.7713 12.0889 4.3823 12.0417 3.94815C11.9945 3.51401 11.6056 3.19964 11.1715 3.24688C10.9219 3.27235 10.698 3.41776 10.5744 3.63396L8.63738 3.24688C8.50584 3.21737 8.37412 3.29992 8.34462 3.43357C8.34462 3.4355 8.34462 3.4355 8.34462 3.43743L7.76119 6.17982C6.66108 6.19756 5.59047 6.53546 4.67897 7.15225C4.21532 6.71618 3.48455 6.73778 3.04847 7.20336C2.61239 7.66701 2.63399 8.39779 3.09958 8.83386C3.19002 8.91834 3.29399 8.99105 3.40991 9.04215C3.402 9.15807 3.402 9.27398 3.40991 9.38989C3.40991 11.1598 5.47262 12.5998 8.01655 12.5998C10.5605 12.5998 12.6232 11.1618 12.6232 9.38989C12.6311 9.27398 12.6311 9.15807 12.6232 9.04215C13.0201 8.8437 13.2697 8.43502 13.2618 7.99104ZM5.35864 8.78276C5.35864 8.34668 5.71428 7.99104 6.15036 7.99104C6.58644 7.99104 6.94208 8.34668 6.94208 8.78276C6.94208 9.21883 6.58644 9.57447 6.15036 9.57447C5.71235 9.57043 5.35864 9.21883 5.35864 8.78276ZM9.94965 10.9868V10.9554C9.38783 11.3778 8.70026 11.5938 7.99688 11.5645C7.2935 11.594 6.60611 11.3778 6.04411 10.9554C5.96946 10.865 5.98316 10.7296 6.07361 10.6549C6.15211 10.5901 6.26416 10.5901 6.34477 10.6549C6.82019 11.0027 7.39975 11.1795 7.98898 11.1519C8.57837 11.1834 9.15987 11.0144 9.64108 10.6707C9.72749 10.5862 9.86887 10.5882 9.95352 10.6746C10.038 10.761 10.0361 10.9024 9.94965 10.9868ZM9.84164 9.63138C9.82795 9.63138 9.81618 9.63138 9.8023 9.63138L9.80828 9.60187C9.3722 9.60187 9.01656 9.24623 9.01656 8.81015C9.01656 8.37408 9.3722 8.01844 9.80828 8.01844C10.2444 8.01844 10.6 8.37408 10.6 8.81015C10.6176 9.24641 10.2777 9.61364 9.84164 9.63138Z" fill="white"/>\n  '),eN=(0,ea.G)('<path fill-rule="evenodd" clip-rule="evenodd" d="M0.5 0.5H5.75L9.48421 5.71053L14 0.5H16L10.3895 6.97368L16.5 15.5H11.25L7.51579 10.2895L3 15.5H1L6.61053 9.02632L0.5 0.5ZM12.0204 14L3.42043 2H4.97957L13.5796 14H12.0204Z" fill="currentColor" />'),ew=(0,ea.G)('<path d="M16 0H0V16H16V0Z" fill="#FB651E"/>\n  <path d="M7.46089 9.04661L4.7146 3.90197H5.96969L7.58516 7.15776C7.61001 7.21575 7.63901 7.27581 7.67215 7.33795C7.70528 7.40008 7.73428 7.46428 7.75913 7.53056C7.7757 7.55541 7.78813 7.5782 7.79641 7.59891C7.8047 7.61962 7.81298 7.63826 7.82127 7.65483C7.86269 7.73767 7.89997 7.81844 7.93311 7.89715C7.96624 7.97585 7.99524 8.04834 8.02009 8.11461C8.08637 7.97378 8.15886 7.82259 8.23756 7.66104C8.31626 7.49949 8.39703 7.33173 8.47988 7.15776L10.1202 3.90197H11.2883L8.51716 9.10875V12.4267H7.46089V9.04661Z" fill="white"/>');var eM=l(52337),eL=l(5128),eS=l(36324);function eI(e){let{hideIcon:t,displayLink:l,link:n,asChild:a,className:i,children:r,ref:d,suffix:m,iconPrefix:u,showToast:h,disabled:x,...p}=e,[g,j]=(0,c.useState)(!1),v=(0,c.useCallback)(()=>{j(!0),o.oR.promise(navigator.clipboard.writeText(n),{error:"Failed to copy link",success:h?"Link copied":void 0}),setTimeout(()=>j(!1),3e3)},[n,h]);return a?(0,s.jsx)("div",{className:i,onClick:v,children:r}):(0,s.jsxs)("button",{className:(0,f.cn)("group flex h-8 w-full items-center justify-between gap-1 rounded-md border border-gray-200 px-2 text-left text-sm font-normal transition-all hover:border-gray-300",x&&"pointer-events-none opacity-50",m?"pr-0":"pr-2",i),disabled:x,onClick:v,ref:d,...p,children:[u?(0,s.jsx)("div",{className:"-mr-1 h-full",children:u}):null,(0,s.jsx)("span",{className:"flex-1 truncate",children:null!=l?l:n}),(0,s.jsx)(eS.U,{className:(0,f.cn)("text-gray-500 transition-colors group-hover:text-current group-focus-visible:text-current",t&&"hidden"),isCopied:g}),m?(0,s.jsx)("div",{className:"h-full pl-1",children:m}):null]})}var eH=l(79245),eA=l(64172),ez=l(1767),eP=l(39823),eV=l(88704),e_=l(38898),eT=l(20862);function eF(){let{data:e,mutate:t}=(0,K.Ay)("shareBlockDialogOpen",null,{fallbackData:!1});return{shareBlockDialogOpen:e,setShareBlockDialogOpen:t}}function eD(e){let{isAuthor:t,activeBlock:l}=e,{chatPrivacy:n}=(0,O.kM)(),{chatId:a}=(0,X.xz)(),{title:i}=(0,O.tZ)(),r=(0,eA.$)(),{shareBlockDialogOpen:d,setShareBlockDialogOpen:m}=eF(),u=(0,c.useRef)(null),h=(0,ez.LX)(null==l?void 0:l.id),x="private"!==n,p=new URLSearchParams;if(p.set("b",(null==l?void 0:l.id)||""),"code"===h&&p.set("p","0"),!a)return null;let g="".concat(window.location.origin,"/chat/").concat((0,eT.D)(a,i),"?").concat(p.toString());return(0,s.jsxs)(eV.Modal,{open:d,onOpenChange:m,children:[(0,s.jsxs)(eV.ModalHeader,{children:[(0,s.jsx)(eV.ModalTitle,{children:"Share Block"}),(0,s.jsx)("span",{children:t?(0,s.jsx)("p",{className:"text-foreground text-sm",children:"Configure who has access to this block."}):null})]}),(0,s.jsxs)(eV.ModalContent,{className:"flex flex-col gap-3",children:[t?(0,s.jsx)(e_.f,{privacy:n,chatId:a,variant:"block"}):null,x&&l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eI,{className:(0,f.cn)("transition-all"),link:g,ref:u}),(0,s.jsx)(eP.$,{})]}):null]}),t&&(null==l?void 0:l.id)?(0,s.jsx)("div",{className:"bg-muted border-alpha-400 flex w-full items-center justify-end gap-2 border-t p-4",children:r?(0,s.jsx)(eZ,{activeBlockId:l.id,isDrawer:r,link:g,title:l.meta.project||"this block"}):(0,s.jsxs)(w.$,{size:"sm",onClick:()=>{o.oR.promise(navigator.clipboard.writeText(g),{error:"Failed to copy link",success:"Link copied"})},children:[(0,s.jsx)(eM.N,{}),"Copy Link"]})}):null]})}function eR(e){let{isAuthor:t,className:l,isMenuItem:n=!1,onClick:a}=e,i=(0,H.k)("shareBlockPopover"),{isStreaming:r}=(0,X.Pk)(),{setShareBlockDialogOpen:o}=eF(),d=(0,c.useMemo)(()=>t?(0,s.jsx)(eL.S,{className:"!size-4"}):(0,s.jsx)(eM.N,{className:"!size-4"}),[t]);return n?(0,s.jsxs)(z.DropdownMenuItem,{className:l,disabled:r,onClick:e=>{e.preventDefault(),null==a||a()},children:[d,(0,s.jsx)("span",{children:i(t?"share":"copyLink")})]}):(0,s.jsx)(w.$,{onClick:()=>o(e=>!e),tooltip:i(t?"share":"copyLink"),disabled:r,size:"sm",className:(0,f.cn)("size-7 rounded-md",l),variant:"ghost",children:d})}function eZ(e){let{activeBlockId:t,title:l,link:n,isDrawer:a}=e,i=(0,H.k)("shareBlockPopover"),r=e=>{(0,N.u)("ClickBlockShare",{destination:e,blockId:t})};return navigator&&void 0!==navigator.share&&a?(0,s.jsxs)(w.$,{className:"gap-2",onClick:()=>{try{navigator.share({title:l,text:"Check out ".concat(l," — built with v0 by Vercel\n\n").concat(n)}),r("navigator.share")}catch(e){o.oR.error("Sharing is not supported on this device")}},size:"sm",type:"button",variant:"default",children:[(0,s.jsx)(eL.S,{}),i("share")]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"font-semibold",children:i("share")}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-center gap-3",children:[(0,s.jsx)(eH.N,{className:"flex-1",external:!0,href:"https://x.com/intent/tweet?text=".concat(encodeURIComponent("Check out ".concat(l," — built with @v0\n\n").concat(n))),onClick:()=>r("X — The Everything App"),tooltip:{content:i("shareOnX"),side:"bottom"},children:(0,s.jsx)(w.$,{className:"flex w-full justify-center",type:"button",variant:"secondary",children:(0,s.jsx)(eN,{})})}),(0,s.jsx)(eH.N,{className:"flex-1",external:!0,href:"https://www.reddit.com/submit?url=".concat(encodeURIComponent(n),"&title=").concat(encodeURIComponent("Check out ".concat(l," — built with v0 by Vercel"))),onClick:()=>r("Reddit"),tooltip:{content:i("shareOnReddit"),side:"bottom"},children:(0,s.jsx)(w.$,{className:"flex w-full justify-center",type:"button",variant:"secondary",children:(0,s.jsx)(ek,{})})}),(0,s.jsx)(eH.N,{className:"flex-1",external:!0,href:"https://news.ycombinator.com/submitlink?u=".concat(encodeURIComponent(n),"&t=").concat(encodeURIComponent("Check out ".concat(l," — built with v0 by Vercel"))),onClick:()=>r("Hacker News"),tooltip:{content:i("shareOnHackerNews"),side:"bottom"},children:(0,s.jsx)(w.$,{className:"flex w-full justify-center",type:"button",variant:"secondary",children:(0,s.jsx)(ew,{})})})]})]})}var eO=l(31101),eB=l(80187),eU=l(95767),eE=l(10928);function e$(e){let{blockId:t,lang:l,source:n}=e,{token:a,isRefreshing:i}=function(e){let{expectUser:t}=(0,C.J)(),{activeScopeSlug:l}=(0,eE.k6)(),{chatPrivacy:s}=(0,O.kM)(),n="public"===s||"unlisted"===s,{data:a,mutate:i,isValidating:r}=(0,K.Ay)(["/chat/b/[id]/token",e,n,l],async()=>{if(n||"@remote"===e||!l)return{token:null};let t=await fetch("/chat/b/".concat(e,"/token?scope=").concat(l));return await t.json()},{revalidateOnMount:!0,revalidateOnReconnect:!1,revalidateOnFocus:!1,refreshWhenHidden:!1,refreshInterval:g.qp});return{token:null==a?void 0:a.token,refreshToken:i,isRefreshing:r||t&&!l}}(t),r=(0,H.k)("blockActionCli");return(0,eB.m)({data:{lang:l,source:n}},eU.P)?(0,s.jsxs)(z.DropdownMenuItem,{svgStyling:!1,className:"flex h-fit max-w-[270px] flex-col items-start gap-2 px-2 py-1.5 hover:!bg-transparent focus:bg-transparent focus-visible:bg-gray-100",onKeyDown:e=>{var t;"Enter"===e.key&&(e.preventDefault(),null===(t=document.getElementById("cli-command-button"))||void 0===t||t.focus())},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(eb,{className:"!text-gray-500"}),(0,s.jsx)("h3",{className:"text-sm",children:r("addToCodebase")})]}),(0,s.jsx)("p",{className:"text-sm",children:r("runInConsole")}),(0,s.jsx)(eG,{id:"cli-command-button",blockId:t,isRefreshing:i,token:a})]}):null}function eG(e){let{blockId:t,token:l,isRefreshing:n,id:a}=e,{command:i,displayedUrl:r}=function(e,t){let[l,s]=(0,c.useMemo)(()=>{let l=new URL("".concat(window.location.origin,"/chat/b/").concat(e)),s="".concat(l.protocol,"//").concat(l.hostname,"/chat/b/").concat(e);return t&&(l.searchParams.set("token",t),s="".concat(s,"?token=").concat(t.substring(0,32),"...")),[l,s]},[e,t]);return{command:'npx shadcn@latest add "'.concat(l.toString(),'"'),url:l,displayedUrl:s}}(t,l);return(0,s.jsx)(eI,{id:a,className:"font-mono",disabled:n,displayLink:'npx shadcn add "'.concat(r,'";'),link:i})}var eK=l(32850),eJ=l(53548),eq=l(27725),eW=l(44534),eY=l(6145);let eX=(0,eY.createServerReference)("40e93a2c3e9582c996d665f7b95ba8801d2ce220f0",eY.callServer,void 0,eY.findSourceMapURL,"createTemplateAction");var eQ=l(35294),e0=l(50403),e1=l(20137),e5=l(95926),e2=l(88707),e4=l(41635),e9=l(56661),e7=l(35820),e3=l(19159),e8=l(86611),e6=l(26241),te=l(32638),tt=l(34991),tl=l(65177),ts=l(18387);function tn(){let{data:e,mutate:t}=(0,K.Ay)("publishBlockDialogOpen",null,{fallbackData:!1});return{publishBlockDialogOpen:e,setPublishBlockDialogOpen:t}}function ta(e){let{activeBlock:t,name:l}=e,{publishBlockDialogOpen:n,setPublishBlockDialogOpen:a}=tn(),{setTemplateCreatedDialogOpen:i}=(0,eQ.qn)(),r=(0,H.k)("templatePublishDialog"),[d,m]=(0,c.useState)({name:l,description:"",category:""}),u=(0,c.useMemo)(()=>(function(e){if(!e)return[];let t=/process(?:\.|\?\.)?env(?:\.|\?\.|\[['"])([A-Z_][A-Z0-9_]*)(?:['"]\])?/g,l=new Set;try{let s;for(;null!==(s=t.exec(e));)l.add(s[1])}catch(e){console.error("Error extracting environment variables:",e)}return Array.from(l)})(t.source),[t]),h=(0,c.useMemo)(()=>{var e;return(null===(e=t.env)||void 0===e?void 0:e.map(e=>e.key).toSorted((e,t)=>u.includes(e)&&!u.includes(t)?-1:!u.includes(e)&&u.includes(t)?1:e.localeCompare(t)))||[]},[t.env,u]),{values:x,toggle:p,has:f}=(0,e4.L)(u),{files:g,uploading:v,removeFile:b,setInitialFiles:C,inputFileRef:y,onInputChange:k}=(0,e9.Lb)({initialImages:[],disableDrag:!n}),{handleCreateTemplate:N,createTemplatePending:M}=function(e){let[t,l]=(0,c.useTransition)(),s=(0,j.eu)(),n=(0,j.y6)(),{setTemplateCreatedInfo:a}=(0,eQ._d)();return{handleCreateTemplate:(0,c.useCallback)(t=>{let{title:i,description:r,category:c,envVarKeys:d,imageUrl:m}=t;l(async()=>{if(!s)throw Error("No active block");let t={blockId:s.id,title:i,description:r,category:c,publishedToCommunity:!1,imageUrl:m,envVarKeys:d},l=await eX(t);if(l.error){o.oR.error(l.error);return}n({...s,templateCanonId:l.templateId,templateVersionId:l.templateVersionId}),await a({title:t.title,description:t.description,category:t.category,envVarKeys:t.envVarKeys,imageUrl:l.imageUrl}),e()})},[s,e,n,a]),createTemplatePending:t}}((0,c.useCallback)(()=>{a(!1),i(!0)},[a,i]));(0,c.useEffect)(()=>{n||setTimeout(()=>{C([]),m({name:l,description:"",category:""})},500)},[l,n,C]);let L=(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(e1.Label,{htmlFor:"name",className:"flex items-center gap-0.5 font-medium text-gray-900",children:[r("modalNameLabel"),(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(e0.p,{autoComplete:"off",disabled:M,id:"name",maxLength:32,minLength:2,name:"name",onChange:e=>m(t=>({...t,name:e.target.value})),value:d.name,placeholder:r("modalNamePlaceholder"),required:!0,spellCheck:!1})]}),S=(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(e1.Label,{htmlFor:"description",className:"font-medium text-gray-900",children:r("modalDescriptionLabel")}),(0,s.jsx)(e2.T,{asChild:!0,children:(0,s.jsx)(e3.o,{className:"resize-y transition-colors",maxHeight:192,minHeight:80,disabled:M,id:"description",maxLength:e8.Kx,name:"description",placeholder:r("modalDescriptionPlaceholder"),spellCheck:!1,onChange:e=>m(t=>({...t,description:e.target.value})),value:d.description||""})})]}),I=(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsxs)(tl.l6,{disabled:M,onValueChange:e=>m(t=>({...t,category:e})),required:!0,children:[(0,s.jsxs)(e1.Label,{htmlFor:"category",className:"font-medium text-gray-900",children:[r("modalCategoryLabel"),(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(tl.bq,{id:"category",children:(0,s.jsx)(tl.yv,{placeholder:"Select a category"})}),(0,s.jsx)(tl.gC,{children:ts.L.map(e=>(0,s.jsx)(tl.eb,{value:e.value,children:e.text},e.value))})]})}),A=h.length?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(e1.Label,{htmlFor:"description",className:"font-medium text-gray-900",children:"Environment Variables"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Mark the required environment variables for this generation to run."}),(0,s.jsx)("div",{className:"border-alpha-200 flex max-h-96 min-h-0 w-full flex-col gap-1 overflow-y-auto rounded-xl border p-1.5",children:h.map(e=>(0,s.jsxs)("label",{htmlFor:e,className:"hover:bg-alpha-200 flex min-w-0 items-center gap-3 rounded-md px-2 py-1.5",children:[(0,s.jsx)(e5.Checkbox,{variant:"black",id:e,checked:f(e),onCheckedChange:()=>p(e),disabled:M}),(0,s.jsx)("div",{className:"truncate text-sm font-medium",children:e})]},e))})]}):null,P=(0,s.jsxs)("fieldset",{className:"flex flex-col items-start gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("legend",{className:"flex items-center gap-0.5 text-sm font-medium",children:[r("modalImageLabel")," (Optional)"]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:r("modalImageDescription")})]}),(0,s.jsx)("div",{className:"h-32 w-full",children:g.length?(0,s.jsxs)("div",{className:"flex h-full w-[169px] flex-col gap-2",children:[(0,s.jsx)("div",{className:"bg-muted relative flex-1 overflow-hidden rounded-md border",children:(0,s.jsxs)("div",{className:"pointer-events-none aspect-video data-[status=uploading]:opacity-50","data-status":g[0].status,children:[(0,s.jsx)(te.TemplateImage,{alt:g[0].file.name,src:g[0].url,templateCanonId:""}),v&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(tt.X,{})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2 text-sm font-medium",children:[(0,s.jsx)("div",{className:"min-w-0 flex-1 contain-inline-size",children:(0,s.jsx)("div",{className:"line-clamp-1 w-full break-all",children:(0,s.jsx)("span",{children:g[0].file.name})})}),(0,s.jsxs)(z.DropdownMenu,{children:[(0,s.jsx)(z.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(w.$,{variant:"ghost",size:"xs",className:"size-6 rounded-md p-0",children:(0,s.jsx)(eW.A,{className:"size-4"})})}),(0,s.jsx)(z.DropdownMenuContent,{align:"start",children:(0,s.jsx)(z.DropdownMenuGroup,{children:(0,s.jsxs)(z.DropdownMenuItem,{onClick:()=>b(g[0].id),variant:"destructive",children:[(0,s.jsx)(eq.l,{}),(0,s.jsx)("span",{children:"Remove Image"})]})})})]})]})]}):(0,s.jsxs)("label",{className:"hover:bg-muted data-[dragging=true]:bg-muted flex size-full cursor-pointer flex-col gap-1 rounded-md border border-dashed p-4 transition-colors duration-200",children:[(0,s.jsx)("div",{className:"pointer-events-none flex min-h-24 flex-col items-center justify-center text-sm",children:(0,s.jsx)("div",{className:"text-gray-500",children:r("modalImagePlaceholder")})}),(0,s.jsx)("input",{accept:"image/*",className:"sr-only",max:1,type:"file",onChange:k,ref:y})]})})]});return(0,s.jsxs)(eV.Modal,{className:"flex flex-col md:max-h-[90vh]",open:n,onOpenChange:a,onInteractOutside:e=>{(M||v)&&e.preventDefault()},children:[(0,s.jsxs)(eV.ModalHeader,{children:[(0,s.jsx)(eV.ModalTitle,{children:r("modalTitle")}),(0,s.jsx)("span",{children:(0,s.jsx)("p",{className:"text-foreground text-sm",children:r("modalDescription")})})]}),(0,s.jsx)(tr,{children:(0,s.jsxs)("form",{className:"flex flex-col gap-4",id:"publish-block-button",onSubmit:e=>{var t;e.preventDefault(),N({title:d.name,description:d.description,category:d.category,envVarKeys:x,imageUrl:null===(t=g[0])||void 0===t?void 0:t.url})},children:[L,S,I,A,P]})}),(0,s.jsxs)("div",{className:"bg-muted border-alpha-400 sticky bottom-0 flex w-full items-center justify-end gap-2 border-t p-4",children:[(0,s.jsx)(w.$,{size:"sm",disabled:M,onClick:()=>a(!1),type:"button",variant:"secondary",children:"Cancel"}),(0,s.jsx)(e6.Q,{disabled:v,form:"publish-block-button",size:"sm",pending:M,children:"Publish"})]})]})}function ti(e){let{activeBlock:t,isMenuItem:l=!1,className:n,onClick:a}=e,{isStreaming:i}=(0,X.Pk)(),{setPublishBlockDialogOpen:r}=tn(),o=(0,c.useMemo)(()=>t.templateCanonId&&t.templateVersionId,[t.templateCanonId,t.templateVersionId]),d=(0,c.useMemo)(()=>{var e;return"/chat/community/".concat((0,eT.D)(null!==(e=t.templateCanonId)&&void 0!==e?e:"",t.meta.project||t.meta.title))},[t.meta.project,t.meta.title,t.templateCanonId]),m=(0,c.useCallback)(()=>{r(!0),null==a||a()},[a,r]);return l?(0,s.jsx)(z.DropdownMenuItem,{asChild:!!o||void 0,disabled:i,onClick:o?void 0:m,children:o?(0,s.jsxs)(I(),{href:d,children:[(0,s.jsx)(eJ.Kv,{}),(0,s.jsx)("span",{children:"View in Community"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eJ.Kv,{}),(0,s.jsx)("span",{children:"Publish to Community"})]})}):o?(0,s.jsx)(w.$,{asChild:!0,disabled:i,size:"sm",variant:"secondary",className:(0,f.cn)("h-7 rounded-md",n),children:(0,s.jsx)(I(),{href:d,children:(0,s.jsx)("span",{children:"Published"})})}):(0,s.jsx)(w.$,{onClick:m,disabled:i,size:"sm",variant:"secondary",className:(0,f.cn)("h-7 rounded-md",n),children:(0,s.jsx)("span",{children:"Publish"})})}function tr(e){let{children:t}=e,{showTopBorder:l,containerRef:n,topRef:a,bottomRef:i}=(0,e7.Y)();return(0,s.jsx)(eV.ModalContent,{ref:n,className:(0,f.cn)("flex flex-col overflow-y-auto border-t border-transparent transition-[border-color]",l&&"border-gray-200"),children:(0,s.jsxs)("div",{className:"relative flex h-fit w-full flex-col gap-4",children:[(0,s.jsx)("div",{ref:a,className:"absolute inset-x-0 top-0 h-px w-full"}),t,(0,s.jsx)("div",{ref:i,className:"absolute inset-x-0 bottom-0 h-px w-full"})]})})}var to=l(8228),tc=l(58596),td=l(36386),tm=l(40183);let tu=(0,eY.createServerReference)("40754bcf8a307bfa48815adcfea19059525cb26e57",eY.callServer,void 0,eY.findSourceMapURL,"sendFlag");function th(){let{data:e,mutate:t}=(0,K.Ay)("flagDialogOpen",null,{fallbackData:!1});return{flagDialogOpen:e,setFlagDialogOpen:t}}function tx(e){let{children:t,value:l,reasons:n}=e;return(0,s.jsx)(td.a,{className:"is-mobile:text-xs",onClick:()=>n.toggle(l),selected:n.has(l),children:t})}function tp(e){let{blockId:t}=e,{chatId:l}=(0,X.Pk)(),{user:n}=(0,C.J)(),{flagDialogOpen:a,setFlagDialogOpen:i}=th(),[r,d]=(0,c.useState)(""),m=(0,e4.L)(),u=(0,H.k)("downvoteDialog"),h=(0,c.useCallback)(()=>{d(""),m.clear(),i(!1)},[m,i]),x=(0,c.useCallback)(async e=>{e.preventDefault();try{await Promise.all([h(),tu({feedback:r,reasons:m.values,chatId:l,blockId:t,userId:null==n?void 0:n.id}),(0,o.oR)("Successfully flagged Block")])}catch(e){console.error(e),o.oR.error("Failed to submit flag. Please try again later.")}},[h,r,m.values,l,t,null==n?void 0:n.id]),p=(0,c.useMemo)(()=>(0,s.jsxs)("form",{className:(0,f.cn)("flex flex-col","is-mobile:gap-3 is-not-mobile:gap-6"),onSubmit:x,children:[(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsxs)("div",{className:"grid w-full grid-cols-2 items-center justify-start gap-2",children:[(0,s.jsx)(tx,{reasons:m,value:"inappropriate",children:"Inappropriate Content"}),(0,s.jsx)(tx,{reasons:m,value:"copyright",children:"Copyright Violation"}),(0,s.jsx)(tx,{reasons:m,value:"illegal",children:"Illegal Content"}),(0,s.jsx)(tx,{reasons:m,value:"other",children:"Other"})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(e1.Label,{className:"text-sm font-normal text-gray-500",htmlFor:"downvote-feedback",children:"Please provide your reasoning for flagging this generation."}),(0,s.jsx)(e2.T,{className:"shadow-none",id:"downvote-feedback",name:"feedback",onChange:e=>d(e.target.value),placeholder:"Additional information...",rows:3,value:r})]}),(0,s.jsxs)("div",{className:"is-mobile:flex-col-reverse is-not-mobile:flex-row flex w-full items-center justify-end gap-2",children:[(0,s.jsx)(w.$,{className:"is-mobile:w-full",onClick:e=>{e.preventDefault(),h()},size:"sm",variant:"secondary",children:u("cancel")}),(0,s.jsx)(w.$,{className:"is-mobile:w-full",size:"sm",type:"submit",children:u("submit")})]})]}),[x,m,u,r,h]);return(0,s.jsx)(eV.Modal,{onOpenChange:e=>{e||h()},open:a,children:(0,s.jsxs)("div",{className:"overflow-auto",children:[(0,s.jsxs)(eV.ModalHeader,{children:[(0,s.jsx)(eV.ModalTitle,{children:"Flag a generation"}),(0,s.jsx)(eV.ModalDescription,{children:"Flag a generation for inappropriate, abusive, or illegal content."})]}),(0,s.jsx)(eV.ModalContent,{children:p})]})})}function tf(e){let{isMenuItem:t=!1,closeMenu:l,...n}=e,{setFlagDialogOpen:a}=th();return t?(0,s.jsxs)(z.DropdownMenuItem,{onClick:()=>{l&&l(),a(!0)},children:[(0,s.jsx)(tm.l,{}),(0,s.jsx)("span",{children:"Flag"})]}):(0,s.jsx)(w.$,{"aria-label":"Flag Generation",onClick:()=>{l&&l(),a(!0)},size:"sm",className:"size-7 rounded-md",tooltip:"Flag",variant:"ghost",...n,children:(0,s.jsx)(tm.l,{})})}var tg=l(14341);function tj(e){let{blockId:t,lang:n,source:a}=e,i=(0,eB.m)({data:{lang:n,source:a}},eU.P),{projectBlocks:r,project:o}=(0,tg.P6)({blockId:t}),d=r.find(e=>e.id===t),m=(null==d?void 0:d.type)==="code-project",u=(0,c.useCallback)(async()=>{let e=[];if(m)window.open("/chat/api/download-zip?id=".concat(t),"_blank");else{e=r.map(e=>[{name:"".concat(o||"v0-project","/index.tsx"),input:e.source||""}]).flat();let t=(await l.e(9292).then(l.bind(l,59292))).downloadZip,s=await t(e).blob(),n=document.createElement("a");n.href=URL.createObjectURL(s),n.download="".concat(o||"v0-project",".zip"),n.click(),n.remove()}},[t,m,o,r]),h=(0,H.k)("blockActionDownloadZip");return t&&i?(0,s.jsxs)(z.DropdownMenuItem,{onSelect:u,children:[(0,s.jsx)(ec.g,{}),h("downloadZip")]}):null}function tv(e){let{isAuthor:t,isOpen:l,drawerView:n,activeBlockState:a,renderedBlock:i,remote:r}=e,o=null==a?void 0:a.id;!o&&r&&(o="@remote");let d=(0,j.oQ)(),m=(null==a?void 0:a.type)==="local"?a.meta.title||("@remote"===o?"Dev Server Preview":"Untitled"):(null==a?void 0:a.meta.project)||"Untitled";/[_-]/.test(m)&&(m=m.split(/[_-]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "));let u=(0,c.useCallback)(()=>d(!1),[d]),h=(0,c.useRef)();return((0,c.useEffect)(()=>{var e,t;if(a&&!a.initial&&a.id!==(null===(e=h.current)||void 0===e?void 0:e.id)){let e=ej.A.get(g.MA);(0,N.u)("ViewBlock",{blockType:a.type,blockId:a.id,messageId:a.messageId,blockViewSizePercent:void 0===e?null:parseInt(e),forkedFromBlockId:null!==(t=a.forkedFromBlockId)&&void 0!==t?t:null}),h.current=a}},[a,u,d]),n)?(0,s.jsx)(V._s,{"aria-hidden":!l,onClose:u,open:l,children:(0,s.jsxs)(V.zj,{className:"bg-muted px-0",hideThumb:!0,children:[(0,s.jsx)(V.gk,{className:"sr-only",children:m}),(0,s.jsxs)("div",{className:"@container/block-header flex items-center justify-between gap-2 px-2 [&_[role=tablist]]:h-7 [&_[role=tablist]]:px-0.5 [&_[role=tablist]_button]:h-6 [&_[role=tablist]_button]:translate-y-[0.5px] [&_[role=tablist]_svg]:size-3.5",children:[i.titleActions,(0,s.jsx)("div",{className:"ml-auto flex items-center gap-1",children:(0,s.jsx)(tb,{renderedBlockAction:i.action,activeBlock:a,isAuthorFromServer:t,title:m})})]}),(0,s.jsx)("div",{className:"h-full min-h-0 w-full min-w-0","data-vaul-no-drag":!0,children:i.content})]})}):(0,s.jsxs)("div",{className:"bg-background flex size-full flex-col items-stretch","data-testid":"desktop-block-panel",children:[(0,s.jsxs)("div",{className:"@container/block-header flex h-12 w-full shrink-0 items-center justify-between gap-2 px-2",children:[(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 flex-row items-center gap-1.5",children:["@remote"===o?null:(0,s.jsxs)(w.$,{"data-testid":"close-block-button",onClick:u,className:"size-7 text-gray-500",size:"sm",variant:"ghost",children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(null==a?void 0:a.type)==="local"?(0,s.jsx)(eC.$,{className:"pointer-events-none"}):(0,s.jsx)(ev.T,{className:"pointer-events-none"})]}),(0,s.jsx)("div",{className:"min-w-0 flex-1",children:i.titleActions||(0,s.jsx)("h2",{className:"truncate font-medium",children:m})})]}),(0,s.jsx)("div",{className:"flex w-fit items-center justify-end gap-1",children:(0,s.jsx)(tb,{renderedBlockAction:i.action,activeBlock:a,isAuthorFromServer:t,title:m})})]}),(0,s.jsx)("div",{className:"h-full min-h-0 w-full min-w-0",children:i.content})]})}function tb(e){let{activeBlock:t,isAuthorFromServer:l,renderedBlockAction:n,title:a}=e,{nl:i}=(0,to.D)(),{getBlockShared:r}=(0,tc.L)(),o=(null==t?void 0:t.type)==="code-project"||(null==t?void 0:t.type)==="react"||(null==t?void 0:t.type)==="v0"||(null==t?void 0:t.type)==="tsx",{chatPrivacy:d}=(0,O.kM)(),m=(0,c.useMemo)(()=>!!t&&r(t.id),[t,r]),[u,h]=(0,c.useState)(!1),{authorId:x}=(0,O.tZ)(),{user:p}=(0,C.J)(),g=(0,c.useMemo)(()=>l||(null==p?void 0:p.id)===x,[l,null==p?void 0:p.id,x]),j=t&&i&&o&&!m,{setShareBlockDialogOpen:v}=eF(),b=(0,c.useMemo)(()=>!g&&("public"===d||"unlisted"===d),[d,g]);if(!t||!t.id)return null;let y=(0,eB.m)({data:{lang:t.language,source:t.source}},eU.P),k=y||g?(0,s.jsxs)(s.Fragment,{children:[y?(0,s.jsx)(tj,{blockId:t.id,lang:t.language,source:t.source}):null,g?(0,s.jsx)(ti,{activeBlock:t,isMenuItem:!0,onClick:()=>{h(!1)}}):null]}):null,N=(0,s.jsxs)(s.Fragment,{children:[k,j?(0,s.jsx)(eO.ForkBlockButton,{isMenuItem:!0,blockId:t.id,isAuthor:g,page:"chat"}):null,(0,s.jsx)(eR,{onClick:()=>{v(!0),h(!1)},isMenuItem:!0,isAuthor:g}),b?(0,s.jsx)(tf,{isMenuItem:!0,closeMenu:()=>h(!1)}):null]}),w=y?(0,s.jsx)(e$,{blockId:t.id,lang:t.language,source:t.source}):null,M=(0,s.jsxs)(s.Fragment,{children:[k?(0,s.jsx)(tC,{cliGroup:w,className:"show-lg",cliIcon:y&&!g,moreOpen:u,setMoreOpen:h,children:k}):null,(0,s.jsx)(tC,{cliGroup:w,className:"hide-lg",moreOpen:u,setMoreOpen:h,children:N})]}),L=g?(0,s.jsxs)(s.Fragment,{children:[j?(0,s.jsx)(eO.ForkBlockButton,{blockId:t.id,isAuthor:g,page:"chat"}):null,(0,s.jsx)(eR,{onClick:()=>v(!0),isAuthor:g})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eR,{onClick:()=>v(!0),isAuthor:!1}),b?(0,s.jsx)(tf,{}):null]}),S=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tp,{blockId:t.id}),(0,s.jsx)(ta,{activeBlock:t,name:a}),(0,s.jsx)(eQ.vn,{activeBlock:t}),(0,s.jsx)(eD,{isAuthor:g,activeBlock:t})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:(0,f.cn)("flex items-center gap-1.5","[&_.show-lg]:hidden",...l?["[&_.hide-lg]:has-[.block-history]:@[28rem]/block-header:!hidden","[&_.show-lg]:has-[.block-history]:@[28rem]/block-header:flex","[&_.show-lg]:has-[.no-block-history]:@[21rem]/block-header:flex","[&_.hide-lg]:has-[.no-block-history]:@[21rem]/block-header:!hidden"]:["[&_.hide-lg]:has-[.block-history]:@[26rem]/block-header:!hidden","[&_.show-lg]:has-[.block-history]:@[26rem]/block-header:flex","[&_.show-lg]:has-[.no-block-history]:@[21rem]/block-header:flex","[&_.hide-lg]:has-[.no-block-history]:@[21rem]/block-header:!hidden"]),children:[n,(0,s.jsx)("div",{className:(0,f.cn)("flex items-center gap-1.5",!g||j?"show-lg":null),children:L}),!g||j?M:null,(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t.id?(0,s.jsx)(tg.Mu,{separator:!0,blockId:t.id}):null,g&&j?(0,s.jsx)(eK.hJ,{}):(0,s.jsx)(eO.ForkBlockButton,{className:"ml-1",blockId:t.id,isAuthor:!1,page:"chat"})]})]}),S]})}function tC(e){let{moreOpen:t,setMoreOpen:l,children:n,cliIcon:a=!1,className:i,cliGroup:r}=e,[o,d]=(0,c.useState)(!1);(0,c.useEffect)(()=>{t||d(!1)},[t]);let m=(0,c.useCallback)(()=>{d(!0),l(!0)},[l]),u=(0,c.useCallback)(()=>{d(!1),l(!1)},[l]);return(0,s.jsxs)(z.DropdownMenu,{onOpenChange:()=>{t||m()},open:t&&o,modal:!0,children:[(0,s.jsx)(z.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(w.$,{variant:"ghost",id:"block-more-button",className:(0,f.cn)("size-7 rounded-md",i),size:"sm",tooltipDirection:"bottom",tooltip:a?"Download":void 0,children:a?(0,s.jsx)(eb,{}):(0,s.jsx)(ey.a,{})})}),(0,s.jsxs)(z.DropdownMenuContent,{onCloseAutoFocus:e=>{t&&e.preventDefault()},onEscapeKeyDown:()=>u(),onPointerDownOutside:()=>{t&&u()},align:"end",children:[r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z.DropdownMenuGroup,{children:r}),(0,s.jsx)(z.mB,{})]}):null,(0,s.jsx)(z.DropdownMenuGroup,{children:n})]})]})}var ty=l(80488),tk=l(12145);let tN="block-panel-right",tw="block-panel-left";function tM(e){let{isAuthor:t,initialBlockSize:l,initialConsoleSize:n,initialConsoleExpanded:a,initialFileTreeSize:i,isMobile:r,remote:o,templates:d}=e,{initialSize:m,isFallbackSize:u,defaultSizeRef:h}=(0,x.Zf)({initialSize:l,fallbackSize:g.gl}),v=(0,j.I4)()||o,b=(0,eA.$)(),C=(0,j.eu)();!C&&o&&(C={id:"@remote",meta:{},type:"local",messageId:"",source:"",language:"plaintext",closed:!0,remoteInfo:void 0,forkedFromBlockId:void 0});let y=(0,ty.useRenderedBlock)({block:C,initialSize:m,initialConsoleSize:n,initialConsoleExpanded:a,location:"header",initialFileTreeSize:i,isAuthor:t});return(0,s.jsxs)(x.YZ,{isFallbackSize:u,collapseSide:"right",cookie:g.MA,id:"block-panel-group",className:"h-screen-patched w-screen",direction:"horizontal",leftId:tw,rightId:tN,defaultSizeRef:h,children:[(0,s.jsx)(p.Zk,{id:tw,order:1,defaultSize:v?100-h.current:100,className:(0,f.cn)("h-full min-w-[18.5rem]"),children:(0,s.jsx)(eg,{isAuthor:t,isMobile:r,templates:d})}),(0,s.jsx)(tL,{defaultSize:h.current,isOpen:v,drawerView:b,children:(0,s.jsx)(c.Suspense,{fallback:null,children:(0,s.jsx)(tv,{isOpen:v,activeBlockState:C,renderedBlock:y,isAuthor:t,remote:o,drawerView:b})})})]})}function tL(e){let{defaultSize:t,isOpen:l,children:n,drawerView:a}=e,{isEmpty:i}=(0,O.tZ)(),{fullScreenResult:r}=(0,tk.S)();return i?null:a?n:(0,s.jsx)(x.je,{handleTestId:"block-resize-handle",className:(0,f.cn)("ml:block sticky top-0 hidden h-full min-w-[420px] text-sm",r?"z-30":"z-10"),collapseSide:"right",isOpen:l,order:2,defaultSize:t,collapseId:tN,children:n})}let tS=e=>{let{messagesPromise:t}=e,l=t?(0,c.use)(t):void 0,s=(0,X.jo)(),{messages:n}=(0,X.Pk)();(0,c.useEffect)(()=>{if(!l)return;let e=l.reduce((e,t)=>(e[t.id]=t.content,e),{}),t=!1,a=n.map(l=>{let s=e[l.id];return s&&"assistant"===l.role&&l.isContentLoading&&Array.isArray(s)?(t=!0,{...l,content:s,isContentLoading:!1}):l});t&&s({messages:a})},[l,s,n])},tI=e=>{let{messagesPromise:t}=e;return tS({messagesPromise:t}),null};function tH(){let e=(0,u.useSearchParams)(),t=(0,u.useRouter)(),l=e.get("premium")?"v0-level3":e.get("ultra")?"v0-platinum":null,{setUpgradePromptOpen:s,setUpgradePromptPlan:n}=(0,h.g)();return(0,c.useEffect)(()=>{l&&(s(!0),n(l),t.replace("/chat"))},[l,s,n,t]),null}function tA(e){let{initialToast:t,isMobile:l,initialFileTreeSize:d,blockSize:h,consoleSize:x,consoleExpanded:p,isAuthor:f,isRemote:g,hasSignedIn:j,templates:v,delayedMessages:b}=e,C=(0,u.useSearchParams)(),y=(0,u.useRouter)();return((0,c.useEffect)(()=>{C.get("signout")&&(y.replace("/chat"),setTimeout(()=>o.oR.success((0,s.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,s.jsx)("p",{className:"font-medium",children:"You have successfully signed out."}),(0,s.jsxs)("p",{className:"",children:["To sign in or sign up with a different Vercel account, first sign out on"," ",(0,s.jsxs)(eH.N,{className:"inline-flex items-center gap-1 underline",external:!0,href:"https://vercel.com/account",children:["vercel.com",(0,s.jsx)(L.i,{className:"inline-block size-3"})]})]})]}),{action:{label:"Visit Vercel",onClick:()=>{window.open("https://vercel.com/account","_blank","noopener,noreferrer")}},duration:1e5}),0))},[C,y]),(0,c.useEffect)(()=>{t&&setTimeout(()=>(0,o.oR)(t),0)},[t]),g)?(0,s.jsxs)(m,{hasSignedIn:j,children:[(0,s.jsxs)(c.Suspense,{fallback:null,children:[(0,s.jsx)(tH,{}),(0,s.jsx)(i.default,{}),(0,s.jsx)(a.FeedbackDialog,{}),(0,s.jsx)(n.z7,{})]}),(0,s.jsx)(r.H,{children:(0,s.jsx)(tM,{initialBlockSize:h,initialConsoleSize:x,initialConsoleExpanded:p,isAuthor:f,isMobile:l,remote:!0,templates:v})})]}):(0,s.jsxs)(m,{hasSignedIn:j,children:[(0,s.jsxs)(c.Suspense,{fallback:null,children:[(0,s.jsx)(tH,{}),(0,s.jsx)(i.default,{}),(0,s.jsx)(a.FeedbackDialog,{}),(0,s.jsx)(n.z7,{}),(0,s.jsx)(tI,{messagesPromise:b})]}),(0,s.jsx)(r.H,{children:(0,s.jsx)(tM,{initialFileTreeSize:d,initialBlockSize:h,initialConsoleSize:x,initialConsoleExpanded:p,isAuthor:f,isMobile:l,remote:!1,templates:v})})]})}},70430:(e,t,l)=>{"use strict";l.d(t,{H:()=>a});var s=l(27545),n=l(3906);function a(e){let{children:t,className:l}=e;return(0,s.jsx)("div",{className:(0,n.cn)("bg-background flex justify-center h-screen-patched",l),children:t})}}}]);